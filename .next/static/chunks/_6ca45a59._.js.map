{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/hero/HeroStatic.tsx"],"sourcesContent":["// components/hero/HeroStatic.tsx\r\n\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport React, { useEffect, useLayoutEffect, useRef } from \"react\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\ngsap.registerPlugin(ScrollTrigger);\r\n\r\ntype Card = {\r\n  id: \"himachal\" | \"bali\" | \"paris\" | \"dubai\";\r\n  img: string;\r\n  video: string;\r\n  alt: string;\r\n  className: string; // absolute position on desktop\r\n  label: string;\r\n};\r\n\r\nconst CARDS: Card[] = [\r\n  {\r\n    id: \"himachal\",\r\n    img: \"/hero/himachal.jpg\",\r\n    video: \"/hero/himachal.mp4\",\r\n    alt: \"Himachal\",\r\n    className: \"absolute -left-6 bottom-6 rotate-[-10deg]\",\r\n    label: \"Himachal\",\r\n  },\r\n  {\r\n    id: \"bali\",\r\n    img: \"/hero/bali.jpg\",\r\n    video: \"/hero/bali.mp4\",\r\n    alt: \"Bali\",\r\n    className: \"absolute left-1/4 bottom-0 rotate-[5deg]\",\r\n    label: \"Bali\",\r\n  },\r\n  {\r\n    id: \"paris\",\r\n    img: \"/hero/paris.jpg\",\r\n    video: \"/hero/paris.mp4\",\r\n    alt: \"Paris\",\r\n    className: \"absolute right-1/4 bottom-10 rotate-[-4deg]\",\r\n    label: \"Paris\",\r\n  },\r\n  {\r\n    id: \"dubai\",\r\n    img: \"/hero/dubai.jpg\",\r\n    video: \"/hero/dubai.mp4\",\r\n    alt: \"Dubai\",\r\n    className: \"absolute -right-6 bottom-4 rotate-[12deg]\",\r\n    label: \"Dubai\",\r\n  },\r\n];\r\n\r\nexport default function HeroStatic() {\r\n  const hostRef = useRef<HTMLDivElement | null>(null);\r\n  const pinRef = useRef<HTMLElement | null>(null);\r\n\r\n  const thumbRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const videoRefs = useRef<Record<string, HTMLVideoElement | null>>({});\r\n  const labelRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const mobileRefs = useRef<HTMLDivElement[]>([]);\r\n  const mobileVideoRefs = useRef<Record<string, HTMLVideoElement | null>>({});\r\n\r\n  const prefersReduced =\r\n    typeof window !== \"undefined\" &&\r\n    window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n\r\n  useLayoutEffect(() => {\r\n    if (!hostRef.current || !pinRef.current) return;\r\n\r\n    // initial states\r\n    Object.values(thumbRefs.current).forEach((el) => {\r\n      if (!el) return;\r\n      gsap.set(el, { y: 160, opacity: 0, scale: 0.95 });\r\n    });\r\n    Object.values(videoRefs.current).forEach((v) => {\r\n      if (!v) return;\r\n      // mobile autoplay requirements\r\n      v.muted = true;\r\n      v.autoplay = true;\r\n      v.playsInline = true;\r\n      v.setAttribute(\"muted\", \"\");\r\n      v.setAttribute(\"playsinline\", \"\");\r\n      v.setAttribute(\"webkit-playsinline\", \"\");\r\n      gsap.set(v, { opacity: 0 });\r\n    });\r\n    Object.values(labelRefs.current).forEach(\r\n      (el) => el && gsap.set(el, { opacity: 0, y: 12 })\r\n    );\r\n    mobileRefs.current.forEach(\r\n      (el) => el && gsap.set(el, { y: 120, opacity: 0, scale: 0.97 })\r\n    );\r\n\r\n    // reduced-motion: reveal and play immediately\r\n    if (prefersReduced) {\r\n      Object.values(thumbRefs.current).forEach(\r\n        (el) => el && gsap.set(el, { y: 0, opacity: 1, scale: 1 })\r\n      );\r\n      Object.values(videoRefs.current).forEach((v) => {\r\n        if (!v) return;\r\n        gsap.set(v, { opacity: 1 });\r\n        v.play().catch(() => {});\r\n      });\r\n      Object.values(labelRefs.current).forEach(\r\n        (el) => el && gsap.set(el, { opacity: 1, y: 0 })\r\n      );\r\n      mobileRefs.current.forEach(\r\n        (el) => el && gsap.set(el, { y: 0, opacity: 1, scale: 1 })\r\n      );\r\n      // kick mobile videos too\r\n      Object.values(mobileVideoRefs.current).forEach((v) => {\r\n        if (!v) return;\r\n        v.muted = true;\r\n        v.autoplay = true;\r\n        v.playsInline = true;\r\n        v.setAttribute(\"muted\", \"\");\r\n        v.setAttribute(\"playsinline\", \"\");\r\n        v.setAttribute(\"webkit-playsinline\", \"\");\r\n        v.play().catch(() => {});\r\n      });\r\n      return;\r\n    }\r\n\r\n    const root = hostRef.current;\r\n    const pinEl = pinRef.current;\r\n\r\n    // entrance timeline\r\n    const entrance = gsap.timeline({\r\n      defaults: { ease: \"power3.out\" },\r\n      scrollTrigger: {\r\n        trigger: root,\r\n        start: \"top top\",\r\n        end: \"+=140%\",\r\n        scrub: 0.85,\r\n        pin: pinEl,\r\n        anticipatePin: 1,\r\n        invalidateOnRefresh: true,\r\n      },\r\n    });\r\n\r\n    // desktop cards in order\r\n    const inOrder = CARDS.map((c) => thumbRefs.current[c.id]).filter(\r\n      Boolean\r\n    ) as HTMLDivElement[];\r\n    entrance.to(\r\n      inOrder,\r\n      {\r\n        y: 0,\r\n        opacity: 1,\r\n        scale: 1,\r\n        duration: 1.0,\r\n        stagger: 0.22,\r\n      },\r\n      0.1\r\n    );\r\n\r\n    // fade in each desktop video and start playback\r\n    inOrder.forEach((el, i) => {\r\n      const id = CARDS[i].id;\r\n      const vid = () => videoRefs.current[id]!;\r\n      const base = 0.1 + i * 0.22;\r\n\r\n      entrance.add(() => {\r\n        const v = vid();\r\n        if (!v) return;\r\n        // make iOS happy\r\n        v.muted = true;\r\n        v.autoplay = true;\r\n        v.playsInline = true;\r\n        v.setAttribute(\"muted\", \"\");\r\n        v.setAttribute(\"playsinline\", \"\");\r\n        v.setAttribute(\"webkit-playsinline\", \"\");\r\n        const p = v.play();\r\n        if (p && typeof (p as any).catch === \"function\")\r\n          (p as any).catch(() => {});\r\n      }, base + 0.55);\r\n\r\n      entrance.to(\r\n        vid(),\r\n        { opacity: 1, duration: 0.6, ease: \"power2.out\" },\r\n        base + 0.55\r\n      );\r\n      entrance.to(\r\n        labelRefs.current[id],\r\n        { opacity: 1, y: 0, duration: 0.4, ease: \"power2.out\" },\r\n        base + 0.65\r\n      );\r\n    });\r\n\r\n    // mobile tiles reveal\r\n    if (mobileRefs.current.length) {\r\n      entrance.to(\r\n        mobileRefs.current,\r\n        {\r\n          y: 0,\r\n          opacity: 1,\r\n          scale: 1,\r\n          duration: 0.9,\r\n          stagger: 0.12,\r\n        },\r\n        0.14\r\n      );\r\n    }\r\n\r\n    // copy entrance\r\n    gsap\r\n      .timeline()\r\n      .from(\r\n        \"[data-anim='headline']\",\r\n        { y: 20, opacity: 0, duration: 0.7, ease: \"power3.out\" },\r\n        0\r\n      )\r\n      .from(\r\n        \"[data-anim='subhead']\",\r\n        { y: 16, opacity: 0, duration: 0.6, ease: \"power2.out\" },\r\n        0.1\r\n      )\r\n      .from(\r\n        \"[data-anim='cta']\",\r\n        { scale: 0.95, opacity: 0, duration: 0.5, ease: \"power2.out\" },\r\n        0.2\r\n      );\r\n\r\n    return () => {\r\n      gsap.killTweensOf(\"*\");\r\n      ScrollTrigger.getAll().forEach((st) => st.kill());\r\n      [\r\n        ...Object.values(videoRefs.current),\r\n        ...Object.values(mobileVideoRefs.current),\r\n      ].forEach((v) => {\r\n        try {\r\n          v?.pause();\r\n        } catch {}\r\n      });\r\n    };\r\n  }, [prefersReduced]);\r\n\r\n  // IntersectionObserver to nudge mobile videos to play/pause when visible\r\n  useEffect(() => {\r\n    const vids = Object.values(mobileVideoRefs.current).filter(\r\n      Boolean\r\n    ) as HTMLVideoElement[];\r\n    if (!vids.length) return;\r\n\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((ent) => {\r\n          const v = ent.target as HTMLVideoElement;\r\n          if (ent.isIntersecting) {\r\n            // make iOS Safari actually autoplay inline\r\n            v.muted = true;\r\n            v.autoplay = true;\r\n            v.playsInline = true;\r\n            v.setAttribute(\"muted\", \"\");\r\n            v.setAttribute(\"playsinline\", \"\");\r\n            v.setAttribute(\"webkit-playsinline\", \"\");\r\n            v.play().catch(() => {});\r\n          } else {\r\n            try {\r\n              v.pause();\r\n            } catch {}\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.35 }\r\n    );\r\n\r\n    vids.forEach((v) => io.observe(v));\r\n    return () => io.disconnect();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      ref={hostRef}\r\n      className=\"relative bg-gradient-to-b from-[#101212] to-[#08201D]\"\r\n    >\r\n      <section\r\n        ref={pinRef}\r\n        className=\"relative min-h-[100svh] mb-12 pt-32 sm:pt-40 lg:pt-48 pb-16 sm:pb-20 lg:pb-28 overflow-hidden\"\r\n        aria-label=\"Hero\"\r\n      >\r\n        {/* Desktop stack */}\r\n        <div className=\"pointer-events-none absolute inset-x-0 bottom-0 z-10 hidden lg:block\">\r\n          <div className=\"relative mx-auto max-w-7xl h-[320px]\">\r\n            {CARDS.map((c) => (\r\n              <div\r\n                key={c.id}\r\n                data-card\r\n                className={c.className}\r\n                ref={(el) => {\r\n                  thumbRefs.current[c.id] = el;\r\n                }}\r\n              >\r\n                <Frame>\r\n                  {/* Poster underneath */}\r\n                  <Image\r\n                    src={c.img}\r\n                    alt={c.alt}\r\n                    width={520}\r\n                    height={340}\r\n                    className=\"h-full w-full object-cover\"\r\n                    priority\r\n                  />\r\n                  {/* Video fades in and plays */}\r\n                  <video\r\n                    ref={(el) => {\r\n                      videoRefs.current[c.id] = el;\r\n                    }}\r\n                    className=\"pointer-events-none absolute inset-0 h-full w-full object-cover opacity-0\"\r\n                    src={c.video}\r\n                    muted\r\n                    autoPlay\r\n                    playsInline\r\n                    preload=\"metadata\"\r\n                    loop\r\n                    aria-label={`${c.alt} video`}\r\n                  />\r\n                  <div\r\n                    ref={(el) => {\r\n                      labelRefs.current[c.id] = el;\r\n                    }}\r\n                    className=\"pointer-events-none absolute left-3 bottom-3 px-3 py-1.5 rounded-md bg-black/50 ring-1 ring-white/10 text-white text-sm font-semibold opacity-0\"\r\n                  >\r\n                    {c.label}\r\n                  </div>\r\n                </Frame>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile grid with real videos */}\r\n        <div className=\"lg:hidden absolute inset-x-0 bottom-0 z-10 px-4 pb-4\">\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            {CARDS.map((c, i) => (\r\n              <div\r\n                key={c.id}\r\n                ref={(el) => {\r\n                  if (el) mobileRefs.current[i] = el;\r\n                }}\r\n                className=\"rounded-2xl overflow-hidden ring-1 ring-white/10 bg-white/5\"\r\n              >\r\n                <video\r\n                  ref={(el) => {\r\n                    mobileVideoRefs.current[c.id] = el;\r\n                  }}\r\n                  className=\"h-28 w-full object-cover\"\r\n                  src={c.video}\r\n                  poster={c.img}\r\n                  muted\r\n                  autoPlay\r\n                  playsInline\r\n                  preload=\"metadata\"\r\n                  loop\r\n                  aria-label={`${c.alt} video`}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <CopyBlock zClass=\"z-20\" />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---- bits ---- */\r\n\r\nfunction CopyBlock({ zClass = \"z-20\" }: { zClass?: string }) {\r\n  return (\r\n    <div\r\n      className={`relative ${zClass} px-4 mx-auto max-w-7xl sm:px-6 lg:px-8`}\r\n    >\r\n      <div className=\"max-w-4xl mx-auto text-center\">\r\n        <h1\r\n          data-anim=\"headline\"\r\n          className=\"text-4xl font-bold sm:text-6xl lg:text-7xl leading-tight\"\r\n        >\r\n          <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-white to-zinc-300\">\r\n            Plan smart. Travel better.\r\n          </span>\r\n        </h1>\r\n        <p\r\n          data-anim=\"subhead\"\r\n          className=\"mt-6 sm:mt-8 text-base text-white/80 sm:text-xl lg:text-2xl leading-relaxed max-w-2xl mx-auto\"\r\n        >\r\n          Tailored trips for Indians and NRIs. Real quotes, secure payments, and\r\n          human help when you need it.\r\n        </p>\r\n        <a\r\n          data-anim=\"cta\"\r\n          href=\"#trip-builder\"\r\n          className=\"inline-flex items-center px-8 py-4 mt-10 sm:mt-12 lg:mt-16 font-semibold text-white text-lg transition-colors bg-zinc-900 rounded-lg hover:bg-zinc-800 focus:bg-zinc-800\"\r\n        >\r\n          Start Trip Builder\r\n          <svg\r\n            className=\"w-6 h-6 ml-3 -mr-1\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <path\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"1.5\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M13 9l3 3-3 3M5 12h11\"\r\n            />\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Frame({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <div className=\"relative h-[220px] w-[360px] rounded-3xl overflow-hidden ring-1 ring-white/10 shadow-2xl shadow-black/40 bg-white/5 backdrop-blur-[0.5px] will-change-transform\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/sections/carousel.tsx"],"sourcesContent":["// components/sections/Carousel.tsx\r\n\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\ntype Place = {\r\n  id: string;\r\n  image: string;\r\n  title: string;\r\n  subtitle?: string;\r\n  alt?: string;\r\n};\r\n\r\ntype CarouselProps = {\r\n  id?: string;\r\n  title?: string;\r\n  items: Place[];\r\n  darkOverlay?: number;\r\n  overshootPx?: number;\r\n  whipMs?: number;\r\n  respectReducedMotion?: boolean;\r\n};\r\n\r\nexport default function Carousel({\r\n  id = \"destinations\",\r\n  title = \"Choose Your Destination\",\r\n  items,\r\n  darkOverlay = 0.25,\r\n  overshootPx = 120,\r\n  whipMs = 720,\r\n  respectReducedMotion = true,\r\n}: CarouselProps) {\r\n  const scrollerRef = useRef<HTMLDivElement | null>(null);\r\n  const cardRefs = useRef<Array<HTMLDivElement | null>>([]);\r\n  const centersRef = useRef<number[]>([]);\r\n  const [active, setActive] = useState(0);\r\n  // Decouple pills from carousel card selection to avoid shared animation\r\n  const [pillActive, setPillActive] = useState(0);\r\n  const [gutters, setGutters] = useState({ left: 0, right: 0 });\r\n  const [dramatic, setDramatic] = useState(false);\r\n  const [touchStart, setTouchStart] = useState<number | null>(null);\r\n  const [touchEnd, setTouchEnd] = useState<number | null>(null);\r\n  const [imagesLoaded, setImagesLoaded] = useState<Set<string>>(new Set());\r\n\r\n  // roulette state\r\n  const [isRouletting, setIsRouletting] = useState(false);\r\n  const [rouletteTarget, setRouletteTarget] = useState<number | null>(null);\r\n  const timeoutsRef = useRef<number[]>([]);\r\n\r\n  // Pills (bottom bar)\r\n  const pillsRef = useRef<HTMLDivElement | null>(null);\r\n  const pillBtnRefs = useRef<Array<HTMLButtonElement | null>>([]);\r\n  const [pillsH, setPillsH] = useState(0); // dynamic height of pills bar\r\n\r\n  const prefersReduced =\r\n    respectReducedMotion &&\r\n    typeof window !== \"undefined\" &&\r\n    window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n\r\n  const overlay = Math.max(0, Math.min(1, darkOverlay));\r\n\r\n  /* ---------- Measurement ---------- */\r\n  const measureAll = () => {\r\n    const root = scrollerRef.current;\r\n    if (!root) return;\r\n    const cards = cardRefs.current.filter(Boolean) as HTMLDivElement[];\r\n    if (!cards.length) return;\r\n\r\n    // center-first gutter (assumes equal card width)\r\n    const sample = cards[0];\r\n    const viewport = root.clientWidth;\r\n    const cardW = sample.getBoundingClientRect().width;\r\n    const gutter = Math.max(0, Math.round((viewport - cardW) / 2));\r\n    setGutters({ left: gutter, right: gutter });\r\n\r\n    // compute card centers in scroll coordinates after padding applies\r\n    requestAnimationFrame(() => {\r\n      const c: number[] = [];\r\n      for (const el of cards) c.push(el.offsetLeft + el.clientWidth / 2);\r\n      centersRef.current = c;\r\n    });\r\n\r\n    // measure pills height if (wraps on desktop; changes on resize)\r\n    if (pillsRef.current) setPillsH(pillsRef.current.offsetHeight);\r\n  };\r\n\r\n  useEffect(() => {\r\n    measureAll();\r\n    const root = scrollerRef.current;\r\n    if (!root) return;\r\n\r\n    const ro = new ResizeObserver(measureAll);\r\n    ro.observe(root);\r\n\r\n    // observe pills height\r\n    let roPills: ResizeObserver | null = null;\r\n    if (pillsRef.current) {\r\n      roPills = new ResizeObserver(() => {\r\n        if (pillsRef.current) setPillsH(pillsRef.current.offsetHeight);\r\n      });\r\n      roPills.observe(pillsRef.current);\r\n    }\r\n\r\n    return () => {\r\n      ro.disconnect();\r\n      if (roPills) roPills.disconnect();\r\n\r\n      // cleanup any pending roulette timeouts on unmount\r\n      timeoutsRef.current.forEach((id) => clearTimeout(id));\r\n      timeoutsRef.current = [];\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [items.length]);\r\n\r\n  /* ---------- Scroll brain (no per-frame rect reads) ---------- */\r\n  useEffect(() => {\r\n    const root = scrollerRef.current;\r\n    if (!root) return;\r\n\r\n    let ticking = false;\r\n    const onScroll = () => {\r\n      if (ticking) return;\r\n      ticking = true;\r\n\r\n      requestAnimationFrame(() => {\r\n        ticking = false;\r\n        const cards = cardRefs.current.filter(Boolean) as HTMLDivElement[];\r\n        if (!cards.length) return;\r\n        const centers = centersRef.current;\r\n        if (!centers.length) return;\r\n\r\n        const viewCenter = root.scrollLeft + root.clientWidth / 2;\r\n        let bestIdx = active;\r\n        let bestDelta = Number.POSITIVE_INFINITY;\r\n\r\n        const isMobile =\r\n          typeof window !== \"undefined\" && window.innerWidth < 768;\r\n        const baseIntensity = dramatic ? 1.0 : 0.65;\r\n        const blurMax = dramatic ? (isMobile ? 2 : 3) : isMobile ? 1 : 1.5;\r\n\r\n        for (let i = 0; i < cards.length; i++) {\r\n          const el = cards[i];\r\n          const delta = centers[i] - viewCenter;\r\n          const d = Math.abs(delta);\r\n          if (d < bestDelta) {\r\n            bestDelta = d;\r\n            bestIdx = i;\r\n          }\r\n\r\n          // Skip applying scroll effects during roulette to let CSS styling work\r\n          if (isRouletting) {\r\n            // Only update the active index during roulette, don't apply visual effects\r\n            continue;\r\n          }\r\n\r\n          const t = Math.max(-1, Math.min(1, delta / (root.clientWidth / 2)));\r\n          const depth = 1 - Math.min(1, Math.abs(t));\r\n          const rot = -t * 18 * baseIntensity;\r\n          const scale = 0.86 + depth * 0.14;\r\n          const opacity = 0.55 + depth * 0.45;\r\n          const blur = Math.max(0, Math.abs(t) * blurMax);\r\n\r\n          el.style.transform = `translateZ(0) perspective(1000px) rotateY(${rot}deg) scale(${scale})`;\r\n          el.style.opacity = `${opacity}`;\r\n\r\n          const img = el.querySelector<HTMLElement>(\"[data-img]\");\r\n          if (img) {\r\n            img.style.filter = `blur(${blur}px) saturate(${\r\n              0.6 + depth * 0.4\r\n            }) brightness(${0.8 + depth * 0.2})`;\r\n          }\r\n        }\r\n\r\n        if (bestIdx !== active) setActive(bestIdx);\r\n      });\r\n    };\r\n\r\n    root.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    onScroll();\r\n    return () => root.removeEventListener(\"scroll\", onScroll);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dramatic, items.length]);\r\n\r\n  /* ---------- Programmatic scroll ---------- */\r\n  const animateScrollTo = (left: number, ms: number) => {\r\n    const root = scrollerRef.current;\r\n    if (!root) return;\r\n\r\n    if (ms <= 0) {\r\n      root.scrollLeft = left;\r\n      return;\r\n    }\r\n\r\n    const start = root.scrollLeft;\r\n    const change = left - start;\r\n    const startTime = performance.now();\r\n    const duration = Math.max(1, ms);\r\n\r\n    const easeInOutCubic = (t: number) =>\r\n      t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\r\n\r\n    const step = (now: number) => {\r\n      const t = Math.min(1, (now - startTime) / duration);\r\n      const node = scrollerRef.current;\r\n      if (!node) return; // stop if unmounted\r\n      node.scrollLeft = start + change * easeInOutCubic(t);\r\n      if (t < 1) requestAnimationFrame(step);\r\n    };\r\n\r\n    requestAnimationFrame(step);\r\n  };\r\n\r\n  const centerIndex = (idx: number, ms = 500) => {\r\n    const root = scrollerRef.current;\r\n    const centers = centersRef.current;\r\n    if (!root || !centers.length) return;\r\n    const clamped = Math.max(0, Math.min(centers.length - 1, idx));\r\n    const targetLeft = centers[clamped] - root.clientWidth / 2;\r\n    animateScrollTo(targetLeft, prefersReduced ? 0 : ms);\r\n  };\r\n\r\n  const centerPill = (i: number) => {\r\n    const bar = pillsRef.current;\r\n    const btn = pillBtnRefs.current[i];\r\n    if (!bar || !btn) return;\r\n    const left = btn.offsetLeft - bar.clientWidth / 2 + btn.clientWidth / 2;\r\n    // No animation on pills: set scroll position directly\r\n    bar.scrollLeft = left;\r\n  };\r\n\r\n  const whipTo = (idx: number) => {\r\n    const root = scrollerRef.current;\r\n    const centers = centersRef.current;\r\n    if (!root || !centers.length) return;\r\n    const clamped = Math.max(0, Math.min(centers.length - 1, idx));\r\n    const baseLeft = centers[clamped] - root.clientWidth / 2;\r\n    const dir = baseLeft > root.scrollLeft ? 1 : -1;\r\n    const overshoot = prefersReduced ? 0 : overshootPx * dir;\r\n\r\n    setDramatic(true);\r\n    animateScrollTo(baseLeft + overshoot, Math.round(whipMs * 0.6));\r\n    const t1 = window.setTimeout(() => {\r\n      animateScrollTo(baseLeft, Math.round(whipMs * 0.4));\r\n      const t2 = window.setTimeout(\r\n        () => setDramatic(false),\r\n        Math.round(whipMs * 0.45)\r\n      );\r\n      timeoutsRef.current.push(t2);\r\n    }, Math.round(whipMs * 0.6));\r\n    timeoutsRef.current.push(t1);\r\n\r\n    centerPill(clamped);\r\n  };\r\n\r\n  // Touch gesture handlers\r\n  const minSwipeDistance = 50;\r\n  const onTouchStart = (e: React.TouchEvent) => {\r\n    setTouchEnd(null);\r\n    setTouchStart(e.targetTouches[0].clientX);\r\n  };\r\n  const onTouchMove = (e: React.TouchEvent) => {\r\n    setTouchEnd(e.targetTouches[0].clientX);\r\n  };\r\n  const onTouchEnd = () => {\r\n    if (touchStart === null || touchEnd === null || isRouletting) return;\r\n    const distance = touchStart - touchEnd;\r\n    const isLeftSwipe = distance > minSwipeDistance;\r\n    const isRightSwipe = distance < -minSwipeDistance;\r\n\r\n    if (isLeftSwipe) {\r\n      const nextIndex = Math.min(items.length - 1, active + 1);\r\n      rouletteToDestination(nextIndex);\r\n    } else if (isRightSwipe) {\r\n      const prevIndex = Math.max(0, active - 1);\r\n      rouletteToDestination(prevIndex);\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = (imageId: string) => {\r\n    setImagesLoaded((prev) => new Set(prev).add(imageId));\r\n  };\r\n\r\n  const clearRouletteTimers = () => {\r\n    timeoutsRef.current.forEach((id) => clearTimeout(id));\r\n    timeoutsRef.current = [];\r\n  };\r\n\r\n  const rouletteToDestination = (targetIndex: number) => {\r\n    if (isRouletting) return; // Prevent stacking roulettes\r\n    clearRouletteTimers();\r\n\r\n    setIsRouletting(true);\r\n    setRouletteTarget(targetIndex);\r\n\r\n    const root = scrollerRef.current;\r\n    const centers = centersRef.current;\r\n    if (!root || !centers.length) return;\r\n\r\n    const currentIndex = active;\r\n    const totalItems = items.length;\r\n\r\n    // Calculate full circle + target position\r\n    const fullCircle = totalItems;\r\n    const extraRotations = Math.floor(Math.random() * 2) + 1; // 1-2 extra rotations\r\n    const totalSteps =\r\n      fullCircle * extraRotations +\r\n      ((targetIndex - currentIndex + totalItems) % totalItems);\r\n\r\n    let currentStep = 0;\r\n    const baseSpeed = 60;\r\n\r\n    const rouletteStep = () => {\r\n      if (currentStep >= totalSteps) {\r\n        const tFin = window.setTimeout(() => {\r\n          setActive(targetIndex);\r\n          centerIndex(targetIndex, 800);\r\n          centerPill(targetIndex);\r\n\r\n          const tEnd = window.setTimeout(() => {\r\n            setIsRouletting(false);\r\n            setRouletteTarget(null);\r\n          }, 800);\r\n          timeoutsRef.current.push(tEnd);\r\n        }, 300);\r\n        timeoutsRef.current.push(tFin);\r\n        return;\r\n      }\r\n\r\n      const nextIndex = (currentIndex + currentStep + 1) % totalItems;\r\n\r\n      // Enhanced realistic deceleration like real roulette\r\n      const progress = currentStep / totalSteps;\r\n      let delay = baseSpeed;\r\n      if (progress < 0.5) {\r\n        // Fast spinning phase (50% of rotation)\r\n        delay = baseSpeed;\r\n      } else if (progress < 0.7) {\r\n        // Start slowing down (20% of rotation)\r\n        const slowProgress = (progress - 0.5) / 0.2;\r\n        delay = baseSpeed + slowProgress * baseSpeed;\r\n      } else if (progress < 0.85) {\r\n        // Significant slowdown (15% of rotation)\r\n        const slowProgress = (progress - 0.7) / 0.15;\r\n        delay = baseSpeed * 2 + slowProgress * baseSpeed * 2;\r\n      } else if (progress < 0.95) {\r\n        // Major slowdown (10% of rotation)\r\n        const slowProgress = (progress - 0.85) / 0.1;\r\n        delay = baseSpeed * 4 + slowProgress * baseSpeed * 3;\r\n      } else {\r\n        // Final crawl (last 5% - very slow)\r\n        const slowProgress = (progress - 0.95) / 0.05;\r\n        delay = baseSpeed * 7 + slowProgress * baseSpeed * 5;\r\n      }\r\n\r\n      // Add realistic physics variation\r\n      const variation = Math.random() * 0.3 - 0.15; // ±15% variation\r\n      delay *= 1 + variation;\r\n\r\n      setActive(nextIndex);\r\n      centerIndex(nextIndex, Math.min(300, delay * 2));\r\n\r\n      currentStep++;\r\n      const tid = window.setTimeout(rouletteStep, Math.max(80, delay));\r\n      timeoutsRef.current.push(tid);\r\n    };\r\n\r\n    rouletteStep();\r\n  };\r\n\r\n  const onKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (e) => {\r\n    if (isRouletting) return; // block during roulette\r\n    if (e.key === \"ArrowRight\" || e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      rouletteToDestination(Math.min(items.length - 1, active + 1));\r\n    } else if (e.key === \"ArrowLeft\" || e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      rouletteToDestination(Math.max(0, active - 1));\r\n    } else if (e.key === \"Home\") {\r\n      e.preventDefault();\r\n      rouletteToDestination(0);\r\n    } else if (e.key === \"End\") {\r\n      e.preventDefault();\r\n      rouletteToDestination(items.length - 1);\r\n    } else if (e.key >= \"1\" && e.key <= \"9\") {\r\n      e.preventDefault();\r\n      const index = parseInt(e.key) - 1;\r\n      if (index < items.length) rouletteToDestination(index);\r\n    }\r\n  };\r\n\r\n  // Keep pills centered based on pillActive only\r\n  useEffect(() => {\r\n    centerPill(pillActive);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pillActive]);\r\n\r\n  // Sync pillActive to active only when not rouletting (avoid animation chaining)\r\n  useEffect(() => {\r\n    if (!isRouletting) setPillActive(active);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [active, isRouletting]);\r\n\r\n  return (\r\n    <section\r\n      id={id}\r\n      aria-label={title}\r\n      className=\"relative w-full h-[100svh] min-h-[100svh] bg-black text-white\"\r\n      style={{ height: \"100svh\" }}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"absolute top-0 inset-x-0 z-10 bg-gradient-to-b from-black/50 via-black/20 to-transparent\">\r\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-4 sm:pt-5 lg:pt-6\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-6xl sm:text-6xl lg:text-6xl font-bold tracking-tight text-white drop-shadow-lg\">\r\n              {title}\r\n            </h2>\r\n            <p\r\n              className=\"mt-3 sm:mt-4 text-base sm:text-xl lg:text-2xl text-white/80 leading-relaxed max-w-2xl mx-auto drop-shadow-md\"\r\n              aria-live=\"polite\"\r\n            >\r\n              {isRouletting\r\n                ? \"🎲 Selecting destination...\"\r\n                : \"Discover your next adventure\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Carousel rail */}\r\n      <div\r\n        ref={scrollerRef}\r\n        className=\"absolute left-4 right-4 sm:left-6 sm:right-6 lg:left-8 lg:right-8 top-[120px] sm:top-[140px] md:top-[160px] overflow-x-auto overflow-y-hidden no-scrollbar overscroll-x-contain snap-x snap-mandatory snap-always flex items-center gap-6 sm:gap-8 focus:outline-none\"\r\n        style={{\r\n          paddingLeft: `${gutters.left}px`,\r\n          paddingRight: `${gutters.right}px`,\r\n          bottom: `${Math.max(64, pillsH + 24)}px`, // small breathing room above pills\r\n        }}\r\n        tabIndex={0}\r\n        onKeyDown={onKeyDown}\r\n        onTouchStart={onTouchStart}\r\n        onTouchMove={onTouchMove}\r\n        onTouchEnd={onTouchEnd}\r\n        aria-roledescription=\"carousel\"\r\n        aria-label={title}\r\n      >\r\n        {items.map((p, i) => (\r\n          <div\r\n            key={p.id}\r\n            ref={(el) => {\r\n              cardRefs.current[i] = el;\r\n            }}\r\n            className=\"relative snap-center shrink-0 transition-transform duration-300 will-change-transform cursor-pointer touch-manipulation\"\r\n            style={{ width: \"clamp(240px, 70vw, 720px)\" }}\r\n            role=\"group\"\r\n            aria-roledescription=\"slide\"\r\n            aria-label={`${p.title} (${i + 1} of ${items.length})`}\r\n          >\r\n            {/* Mobile-optimized aspect ratio - closer to portrait but not exactly 9:16 */}\r\n            <div\r\n              className={`relative aspect-[10/16] md:aspect-[16/9] w-full h-full rounded-3xl overflow-hidden shadow-2xl shadow-black/50 group transition-all duration-500 ${\r\n                i === active\r\n                  ? \"ring-4 ring-white/90 ring-offset-4 ring-offset-black scale-105\"\r\n                  : \"ring-1 ring-white/20\"\r\n              }`}\r\n              style={\r\n                isRouletting && i === active\r\n                  ? {\r\n                      // Force selection styling during roulette\r\n                      transform: \"scale(1.05)\",\r\n                      filter: \"brightness(1.1) saturate(1.1)\",\r\n                      zIndex: 10,\r\n                    }\r\n                  : {}\r\n              }\r\n            >\r\n              {/* Force selection ring during roulette */}\r\n              {isRouletting && i === active && (\r\n                <div className=\"absolute -inset-1 rounded-3xl ring-4 ring-white/90 ring-offset-4 ring-offset-black pointer-events-none\" />\r\n              )}\r\n\r\n              {/* Same radiating highlight for active card whether rouletting or static */}\r\n              {i === active && (\r\n                <>\r\n                  <div className=\"pointer-events-none absolute -inset-2 rounded-3xl bg-[radial-gradient(closest-side,rgba(255,255,255,0.30),rgba(255,255,255,0.10),transparent)] animate-pulse\" />\r\n                  <div\r\n                    className=\"pointer-events-none absolute -inset-4 rounded-3xl bg-[radial-gradient(closest-side,rgba(255,255,255,0.20),rgba(255,255,255,0.05),transparent)] animate-pulse\"\r\n                    style={{ animationDelay: \"0.5s\" }}\r\n                  />\r\n                </>\r\n              )}\r\n\r\n              {/* Loading skeleton */}\r\n              {!imagesLoaded.has(p.id) && (\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-gray-700 via-gray-800 to-gray-900 animate-pulse\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse\" />\r\n                  <div className=\"absolute bottom-4 left-4 right-4 space-y-2\">\r\n                    <div className=\"h-6 bg-white/20 rounded-lg animate-pulse\" />\r\n                    <div className=\"h-4 bg-white/10 rounded w-2/3 animate-pulse\" />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <Image\r\n                data-img\r\n                src={p.image}\r\n                alt={p.alt || p.title}\r\n                fill\r\n                sizes=\"(min-width: 1024px) 60vw, (min-width: 640px) 70vw, 80vw\"\r\n                className={`object-cover object-center transition-[filter,transform,opacity] duration-500 group-hover:scale-105 ${\r\n                  imagesLoaded.has(p.id) ? \"opacity-100\" : \"opacity-0\"\r\n                }`}\r\n                priority={i === 0}\r\n                onLoad={() => handleImageLoad(p.id)}\r\n              />\r\n\r\n              <div\r\n                className=\"absolute inset-0 bg-black\"\r\n                style={{ opacity: overlay }}\r\n              />\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent\" />\r\n              <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-black/30\" />\r\n\r\n              {/* Content overlay */}\r\n              <div className=\"absolute bottom-0 left-0 right-0 p-4 sm:p-6\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"text-xl sm:text-3xl font-bold tracking-tight text-white drop-shadow-lg\">\r\n                    {p.title}\r\n                  </div>\r\n\r\n                  {p.subtitle ? (\r\n                    <div className=\"text-sm sm:text-lg text-white/90 drop-shadow-md font-medium\">\r\n                      {p.subtitle}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-sm sm:text-base text-white/75 drop-shadow-md\">\r\n                      Discover amazing destinations\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"pt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n                    <button className=\"inline-flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium hover:bg-white/30 transition-all duration-200 border border-white/30\">\r\n                      <span>Explore</span>\r\n                      <svg\r\n                        className=\"w-4 h-4\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M9 5l7 7-7 7\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Enhanced mobile roulette effects */}\r\n              {isRouletting && (\r\n                <>\r\n                  {/* Mobile-specific spinning effect */}\r\n                  <div className=\"md:hidden absolute inset-0 rounded-3xl overflow-hidden pointer-events-none\">\r\n                    <div className=\"absolute inset-0 bg-gradient-radial from-yellow-400/30 via-red-400/20 to-transparent animate-spin\"></div>\r\n                    <div className=\"absolute inset-2 bg-gradient-radial from-transparent via-white/10 to-transparent animate-pulse\"></div>\r\n                  </div>\r\n                  {/* Spinning border effect for mobile */}\r\n                  <div className=\"md:hidden absolute -inset-1 rounded-3xl bg-gradient-to-r from-red-400 via-yellow-400 to-red-400 animate-spin opacity-75\"></div>\r\n                </>\r\n              )}\r\n\r\n              {/* Mobile swipe indicator - only show on first card when not rouletting */}\r\n              {i === 0 && !isRouletting && (\r\n                <div className=\"md:hidden absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1.5 text-xs text-white/90 pointer-events-none border border-white/20 animate-bounce\">\r\n                  Swipe →\r\n                </div>\r\n              )}\r\n\r\n              {/* Shimmer for active card */}\r\n              {i === active && !isRouletting && (\r\n                <div className=\"pointer-events-none absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse\" />\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"shrink-0 w-[1px]\" aria-hidden />\r\n      </div>\r\n\r\n      {/* Pills Navigation */}\r\n      <div className=\"absolute bottom-3 inset-x-0 z-20 pb-6\">\r\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"relative\">\r\n            {/* MOBILE: Horizontal scroller */}\r\n            <div className=\"md:hidden\">\r\n              {/* edge fades on mobile */}\r\n              <div className=\"pointer-events-none absolute left-0 top-0 h-full w-8 bg-gradient-to-r from-black via-black/70 to-transparent z-10\" />\r\n              <div className=\"pointer-events-none absolute right-0 top-0 h-full w-8 bg-gradient-to-l from-black via-black/70 to-transparent z-10\" />\r\n\r\n              <div\r\n                ref={pillsRef}\r\n                role=\"tablist\"\r\n                aria-label=\"Destinations filter\"\r\n                className=\"flex flex-nowrap items-center gap-2 overflow-x-auto no-scrollbar py-1 snap-x snap-mandatory\"\r\n              >\r\n                {items.map((p, i) => (\r\n                  <button\r\n                    key={p.id}\r\n                    ref={(el) => {\r\n                      pillBtnRefs.current[i] = el;\r\n                    }}\r\n                    onClick={() => {\r\n                      setPillActive(i);\r\n                      rouletteToDestination(i);\r\n                    }}\r\n                    role=\"tab\"\r\n                    aria-selected={i === pillActive}\r\n                    aria-controls={`${id}-slide-${i}`}\r\n                    disabled={isRouletting}\r\n                    className={` relative snap-center whitespace-nowrap rounded-full border px-4 py-2 text-sm font-medium backdrop-blur-sm min-w-[80px] text-center touch-manipulation ${\r\n                      isRouletting ? \"opacity-75\" : \"\"\r\n                    } ${\r\n                      i === rouletteTarget && isRouletting\r\n                        ? \"border-yellow-400 text-yellow-300 bg-yellow-400/20 shadow-lg shadow-yellow-400/50\"\r\n                        : i === pillActive\r\n                        ? \"border-white/80 text-white bg-transparent md:bg-transparent md:text-white md:border-white md:shadow-lg shadow-white/25\"\r\n                        : \"border-white/30 text-white/90 shadow-lg shadow-black/25\"\r\n                    }`}\r\n                  >\r\n                    <span className=\"inline-block translate-y-[0.5px] tracking-wide\">\r\n                      {p.title}\r\n                    </span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* DESKTOP: Two rows, centered with natural widths (no rigid grid) */}\r\n            {(() => {\r\n              const perRow = Math.ceil(items.length / 2) || 1;\r\n              const row1 = items.slice(0, perRow);\r\n              const row2 = items.slice(perRow);\r\n\r\n              const Pill = (p: Place, i: number) => (\r\n                <button\r\n                  key={p.id}\r\n                  onClick={() => {\r\n                    setPillActive(i);\r\n                    rouletteToDestination(i);\r\n                  }}\r\n                  role=\"tab\"\r\n                  aria-selected={i === pillActive}\r\n                  aria-controls={`${id}-slide-${i}`}\r\n                  disabled={isRouletting}\r\n                  className={` whitespace-nowrap rounded-full border px-4 py-2 text-sm font-medium backdrop-blur-sm min-w-[96px] text-center ${\r\n                    isRouletting ? \"opacity-75\" : \"\"\r\n                  } ${\r\n                    i === rouletteTarget && isRouletting\r\n                      ? \"border-yellow-400 text-yellow-300 bg-yellow-400/20 shadow-lg shadow-yellow-400/50\"\r\n                      : i === pillActive\r\n                      ? \"border-white/80 text-white bg-transparent md:bg-transparent md:text-white md:border-white md:shadow-lg shadow-white/25\"\r\n                      : \"border-white/30 text-white/90 shadow-lg shadow-black/25\"\r\n                  }`}\r\n                >\r\n                  <span className=\"inline-block translate-y-[0.5px] tracking-wide\">\r\n                    {p.title}\r\n                  </span>\r\n                </button>\r\n              );\r\n\r\n              return (\r\n                <div className=\"hidden md:block\">\r\n                  <div className=\"space-y-2\">\r\n                    <div\r\n                      className=\"flex flex-wrap justify-center gap-2\"\r\n                      role=\"tablist\"\r\n                      aria-label=\"Destinations filter row 1\"\r\n                    >\r\n                      {row1.map((p, i) => Pill(p, i))}\r\n                    </div>\r\n                    <div\r\n                      className=\"flex flex-wrap justify-center gap-2\"\r\n                      role=\"tablist\"\r\n                      aria-label=\"Destinations filter row 2\"\r\n                    >\r\n                      {row2.map((p, i) => Pill(p, i + row1.length))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1418, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/footer.tsx"],"sourcesContent":["\"use client\";\r\n// components/SiteFooterMonochrome.tsx\r\n// Server component. No client hooks needed.\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function SiteFooterMonochrome() {\r\n  return (\r\n    <footer\r\n      aria-labelledby=\"footer-heading\"\r\n      className=\"relative isolate bg-black text-zinc-100\"\r\n    >\r\n      {/* Subtle vignette (kept) */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 [background:radial-gradient(1200px_500px_at_20%_-10%,rgba(255,255,255,0.08)_0%,transparent_60%)]\"\r\n      />\r\n\r\n      {/* Animated linear glow — moved to middle, dulled to gray */}\r\n      <div\r\n        aria-hidden\r\n        className=\"absolute inset-x-0 top-1/2 -z-10 h-24 -translate-y-1/2 transform-gpu\"\r\n      >\r\n        <div className=\"glowbar mx-auto h-full w-[140%]\" />\r\n      </div>\r\n\r\n      <div className=\"mx-auto max-w-7xl px-6 pt-14 pb-10 md:pt-18 md:pb-12 lg:px-8\">\r\n        {/* Hairline top divider to anchor the footer */}\r\n        <div className=\"mb-10 h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent\" />\r\n\r\n        {/* --- Main grid --------------------------------------------------- */}\r\n        <div className=\"grid grid-cols-1 gap-10 md:grid-cols-12\">\r\n          {/* Left: brand, blurb, compact subscribe, socials */}\r\n          <div className=\"md:col-span-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/15 bg-white/10 text-xs tracking-widest text-white/80\">\r\n                LW\r\n              </span>\r\n              <span className=\"text-sm font-medium tracking-wide text-white/80\">\r\n                LeafWay Solutions\r\n              </span>\r\n            </div>\r\n\r\n            <p className=\"mt-4 max-w-sm text-sm leading-relaxed text-zinc-300\">\r\n              Understated travel, engineered properly. Planning that respects your attention span\r\n              and your calendar.\r\n            </p>\r\n\r\n            <form\r\n              onSubmit={(e) => e.preventDefault()}\r\n              className=\"mt-5 flex w-full flex-col gap-3 sm:flex-row\"\r\n            >\r\n              <label htmlFor=\"f-email\" className=\"sr-only\">\r\n                Email\r\n              </label>\r\n              <input\r\n                id=\"f-email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                placeholder=\"you@example.com\"\r\n                autoComplete=\"email\"\r\n                className=\"h-10 w-full rounded-full border border-white/10 bg-zinc-900/60 px-4 text-sm text-white/90 outline-none placeholder:text-white/40 focus:border-white/30 sm:flex-1\"\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"h-10 shrink-0 rounded-full bg-white px-5 text-sm font-medium text-zinc-950 shadow-sm transition active:translate-y-px focus:outline-none focus-visible:ring-2 focus-visible:ring-white/60 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-950\"\r\n              >\r\n                Subscribe\r\n              </button>\r\n            </form>\r\n            <p className=\"mt-2 text-xs text-white/40\">Monthly. Useful. One-tap unsubscribe.</p>\r\n\r\n            <div className=\"mt-6 flex flex-wrap gap-2\">\r\n              {[\r\n                { label: \"Instagram\", href: \"#instagram\" },\r\n                { label: \"LinkedIn\", href: \"#linkedin\" },\r\n                { label: \"YouTube\", href: \"#youtube\" },\r\n              ].map((s) => (\r\n                <Link\r\n                  key={s.label}\r\n                  href={s.href}\r\n                  className=\"inline-flex items-center rounded-full border border-white/15 bg-white/5 px-3 py-1.5 text-xs text-white/80 transition hover:bg-white/10 focus-visible:ring-2 focus-visible:ring-white/40\"\r\n                >\r\n                  {s.label.toUpperCase()}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right: four tidy link columns */}\r\n          <div className=\"md:col-span-8 grid grid-cols-2 gap-8 sm:grid-cols-4\">\r\n            <nav aria-labelledby=\"prod-col\" className=\"text-sm\">\r\n              <h2\r\n                id=\"prod-col\"\r\n                className=\"mb-3 text-xs font-semibold uppercase tracking-widest text-white/60\"\r\n              >\r\n                Product\r\n              </h2>\r\n              <ul className=\"space-y-2\">\r\n                <li>\r\n                  <Link href=\"#trip-builder\" className=\"text-white/80 transition hover:text-white\">\r\n                    Trip Builder Lite\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#how-it-works\" className=\"text-white/80 transition hover:text-white\">\r\n                    How It Works\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#travel-search\" className=\"text-white/80 transition hover:text-white\">\r\n                    Travel Search\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#invoice\" className=\"text-white/80 transition hover:text-white\">\r\n                    Have an Invoice?\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n\r\n            <nav aria-labelledby=\"explore-col\" className=\"text-sm\">\r\n              <h2\r\n                id=\"explore-col\"\r\n                className=\"mb-3 text-xs font-semibold uppercase tracking-widest text-white/60\"\r\n              >\r\n                Explore\r\n              </h2>\r\n              <ul className=\"space-y-2\">\r\n                <li>\r\n                  <Link href=\"#activities\" className=\"text-white/80 transition hover:text-white\">\r\n                    Activities Library\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#explorer\" className=\"text-white/80 transition hover:text-white\">\r\n                    Continent Explorer\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n\r\n            <nav aria-labelledby=\"company-col\" className=\"text-sm\">\r\n              <h2\r\n                id=\"company-col\"\r\n                className=\"mb-3 text-xs font-semibold uppercase tracking-widest text-white/60\"\r\n              >\r\n                Company\r\n              </h2>\r\n              <ul className=\"space-y-2\">\r\n                <li>\r\n                  <Link href=\"#about\" className=\"text-white/80 transition hover:text-white\">\r\n                    About\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#careers\" className=\"text-white/80 transition hover:text-white\">\r\n                    Careers\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#press\" className=\"text-white/80 transition hover:text-white\">\r\n                    Press\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n\r\n            <nav aria-labelledby=\"support-col\" className=\"text-sm\">\r\n              <h2\r\n                id=\"support-col\"\r\n                className=\"mb-3 text-xs font-semibold uppercase tracking-widest text-white/60\"\r\n              >\r\n                Support\r\n              </h2>\r\n              <ul className=\"space-y-2\">\r\n                <li>\r\n                  <a\r\n                    href=\"mailto:team@example.com\"\r\n                    className=\"text-white/80 transition hover:text-white\"\r\n                  >\r\n                    Email the Team\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#whatsapp\" className=\"text-white/80 transition hover:text-white\">\r\n                    WhatsApp Concierge\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link href=\"#support\" className=\"text-white/80 transition hover:text-white\">\r\n                    Call Support\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- Legal rail -------------------------------------------------- */}\r\n        <div className=\"mt-12\">\r\n          <div className=\"h-px bg-gradient-to-r from-transparent via-white/10 to-transparent\" />\r\n          <div className=\"flex flex-col items-start justify-between gap-4 py-6 text-xs text-white/50 sm:flex-row sm:items-center\">\r\n            <p id=\"footer-heading\">© 2025 LeafWay Solutions. Crafted with care.</p>\r\n            <ul className=\"flex flex-wrap items-center gap-x-6 gap-y-2\">\r\n              <li>\r\n                <Link href=\"#privacy\" className=\"transition hover:text-white\">\r\n                  Privacy\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link href=\"#terms\" className=\"transition hover:text-white\">\r\n                  Terms\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link href=\"#accessibility\" className=\"transition hover:text-white\">\r\n                  Accessibility\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link href=\"#sitemap\" className=\"transition hover:text-white\">\r\n                  Sitemap\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Glow animation (dulled gray, centered) */}\r\n      <style jsx>{`\r\n        .glowbar {\r\n          height: 180px;\r\n          width: 100%;\r\n          filter: blur(40px);\r\n          opacity: 0.55; /* softer */\r\n          /* neutral gray gradient instead of white */\r\n          background: linear-gradient(\r\n            90deg,\r\n            rgba(148,148,148,0) 0%,\r\n            rgba(148,148,148,0.12) 18%,\r\n            rgba(148,148,148,0.28) 50%,\r\n            rgba(148,148,148,0.12) 82%,\r\n            rgba(148,148,148,0) 100%\r\n          );\r\n          background-repeat: no-repeat;\r\n          background-size: 320% 100%;\r\n          animation: glow-pan 9s linear infinite;\r\n          /* no fancy blend mode so it stays dull */\r\n          mix-blend-mode: normal;\r\n        }\r\n        @keyframes glow-pan {\r\n          0% { background-position: -60% 0; }\r\n          100% { background-position: 160% 0; }\r\n        }\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .glowbar { animation: none; opacity: 0.35; }\r\n        }\r\n      `}</style>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2043, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/invoice/InvoiceQuickPay.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\n\r\n/* ---------------- Config ---------------- */\r\nconst REF_REGEX = /\\bINV-[A-Z0-9]{5,10}\\b/;\r\nconst FETCH_LATENCY_MS = 650;\r\n\r\ntype Invoice = {\r\n  id: string;\r\n  dateISO: string;\r\n  amount: number;\r\n  currency: string;\r\n  billTo: string;\r\n  status: \"unpaid\" | \"paid\" | \"expired\";\r\n};\r\n\r\nconst MOCK: Record<string, Invoice> = {\r\n  \"INV-AX7Q9K\": {\r\n    id: \"INV-AX7Q9K\",\r\n    dateISO: \"2025-09-18\",\r\n    amount: 2499,\r\n    currency: \"AED\",\r\n    billTo: \"Naeem Ali\",\r\n    status: \"unpaid\",\r\n  },\r\n  \"INV-Z9M2Q1\": {\r\n    id: \"INV-Z9M2Q1\",\r\n    dateISO: \"2025-08-31\",\r\n    amount: 139900,\r\n    currency: \"INR\",\r\n    billTo: \"Leafway Corporate\",\r\n    status: \"unpaid\",\r\n  },\r\n};\r\n\r\nasync function lookupInvoice(ref: string): Promise<Invoice | null> {\r\n  await new Promise((r) => setTimeout(r, FETCH_LATENCY_MS));\r\n  return MOCK[ref] ?? null;\r\n}\r\n\r\nfunction isUserInUAE(): boolean {\r\n  try {\r\n    return Intl.DateTimeFormat().resolvedOptions().timeZone === \"Asia/Dubai\";\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction money(n: number, ccy: string) {\r\n  try {\r\n    return new Intl.NumberFormat(undefined, {\r\n      style: \"currency\",\r\n      currency: ccy,\r\n    }).format(n);\r\n  } catch {\r\n    return `${ccy} ${n.toLocaleString()}`;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Razorpay?: any;\r\n  }\r\n}\r\n\r\n/* ---------- tiny deterministic barcode generator ---------- */\r\ntype Bar =\r\n  | { kind: \"single\"; h: number; gapTop: number }\r\n  | {\r\n      kind: \"double\";\r\n      h1: number;\r\n      h2: number;\r\n      innerGap: number;\r\n      gapTop: number;\r\n    };\r\n\r\nfunction seedFrom(str: string) {\r\n  let h = 2166136261 >>> 0;\r\n  for (let i = 0; i < str.length; i++) h = (h ^ str.charCodeAt(i)) * 16777619;\r\n  return h >>> 0;\r\n}\r\nfunction prng(seed: number) {\r\n  let x = seed >>> 0;\r\n  return () => {\r\n    x = (x * 1664525 + 1013904223) >>> 0;\r\n    return x / 2 ** 32;\r\n  };\r\n}\r\nfunction buildBars(seedStr: string, rows = 12): Bar[] {\r\n  const rnd = prng(seedFrom(seedStr || \"INV-XXXX\"));\r\n  const bars: Bar[] = [];\r\n  for (let i = 0; i < rows; i++) {\r\n    const isDouble = rnd() > 0.55; // some doubles\r\n    const gapTop = 2 + Math.floor(rnd() * 6); // 2–7px\r\n    if (isDouble) {\r\n      const h1 = 2 + Math.floor(rnd() * 3); // 2–4px\r\n      const h2 = 2 + Math.floor(rnd() * 3);\r\n      const innerGap = 2 + Math.floor(rnd() * 3); // 2–4px\r\n      bars.push({ kind: \"double\", h1, h2, innerGap, gapTop });\r\n    } else {\r\n      const h = 3 + Math.floor(rnd() * 4); // 3–6px\r\n      bars.push({ kind: \"single\", h, gapTop });\r\n    }\r\n  }\r\n  return bars;\r\n}\r\n\r\n/* ------------- Component --------------- */\r\nexport default function InvoiceQuickPay() {\r\n  const [refInput, setRefInput] = useState(\"\");\r\n  const [status, setStatus] = useState<\r\n    \"idle\" | \"validating\" | \"fetching\" | \"found\" | \"notfound\" | \"error\"\r\n  >(\"idle\");\r\n  const [invoice, setInvoice] = useState<Invoice | null>(null);\r\n  const [drawer, setDrawer] = useState(false);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n\r\n  const aeUser = useMemo(() => isUserInUAE(), []);\r\n  const reduced = useReducedMotion();\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n  const debouncer = useRef<number | null>(null);\r\n\r\n  /* Prefill from URL or hash */\r\n  useEffect(() => {\r\n    try {\r\n      const sp = new URLSearchParams(location.search);\r\n      const q = sp.get(\"ref\") || location.hash.replace(/^#/, \"\");\r\n      const m = (q || \"\").toUpperCase().match(REF_REGEX);\r\n      if (m) {\r\n        setRefInput(m[0]);\r\n        goFetch(m[0]);\r\n      }\r\n    } catch {}\r\n  }, []);\r\n\r\n  /* Paste anywhere → capture ref */\r\n  useEffect(() => {\r\n    const onPaste = (e: ClipboardEvent) => {\r\n      const t = e.clipboardData?.getData(\"text\") || \"\";\r\n      const m = t.toUpperCase().match(REF_REGEX);\r\n      if (!m) return;\r\n      e.preventDefault();\r\n      setRefInput(m[0]);\r\n      toast(\"Invoice reference detected\");\r\n      goFetch(m[0]);\r\n    };\r\n    document.addEventListener(\"paste\", onPaste);\r\n    return () => document.removeEventListener(\"paste\", onPaste);\r\n  }, []);\r\n\r\n  function toast(t: string) {\r\n    setMsg(t);\r\n    window.setTimeout(() => setMsg(null), 1600);\r\n  }\r\n\r\n  function onChangeRef(raw: string) {\r\n    const up = raw.toUpperCase().replace(/[^A-Z0-9-]/g, \"\");\r\n    let val = up.startsWith(\"INV-\")\r\n      ? up\r\n      : \"INV-\" + up.replace(/^INV-?/, \"\").replace(/^INV/, \"\");\r\n    setRefInput(val);\r\n    setStatus(\"validating\");\r\n    setStep(1);\r\n    if (debouncer.current) window.clearTimeout(debouncer.current);\r\n    debouncer.current = window.setTimeout(\r\n      () => goFetch(val),\r\n      300\r\n    ) as unknown as number;\r\n  }\r\n\r\n  async function goFetch(val: string) {\r\n    if (!REF_REGEX.test(val)) {\r\n      setStatus(\"idle\");\r\n      setInvoice(null);\r\n      setStep(1);\r\n      return;\r\n    }\r\n    setStatus(\"fetching\");\r\n    setInvoice(null);\r\n    setStep(2);\r\n    try {\r\n      const data = await lookupInvoice(val);\r\n      if (!data) {\r\n        setStatus(\"notfound\");\r\n        setInvoice(null);\r\n        setStep(1);\r\n        return;\r\n      }\r\n      setInvoice(data);\r\n      setStatus(\"found\");\r\n      setStep(2);\r\n    } catch {\r\n      setStatus(\"error\");\r\n      setStep(1);\r\n    }\r\n  }\r\n\r\n  function openDrawer() {\r\n    if (!invoice) return;\r\n    setDrawer(true);\r\n    setStep(3);\r\n  }\r\n\r\n  function closeDrawer() {\r\n    setDrawer(false);\r\n    setStep(invoice ? 2 : 1);\r\n  }\r\n\r\n  function beginRazorpay() {\r\n    if (!invoice) return;\r\n    if (!aeUser) return toast(\"Payments available in UAE only for now.\");\r\n    if (!window.Razorpay) return toast(\"Razorpay will be wired soon.\");\r\n  }\r\n\r\n  const canPay = invoice && invoice.status === \"unpaid\";\r\n\r\n  // Build a stable pattern for the barcode from the reference or input\r\n  const barcodeBars = useMemo(\r\n    () => buildBars(invoice?.id || refInput || \"INV-XXXX\", 18),\r\n    [invoice?.id, refInput]\r\n  );\r\n\r\n  return (\r\n    <section\r\n      aria-label=\"Have an invoice\"\r\n      className=\"relative overflow-x-hidden bg-zinc-950 text-zinc-100\"\r\n    >\r\n      {/* Gentle top vignette */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 [background:radial-gradient(900px_380px_at_50%_-10%,rgba(255,255,255,.07)_0%,transparent_60%)]\"\r\n      />\r\n\r\n      <div className=\"relative mx-auto max-w-5xl px-4 md:px-8 py-14 md:py-20\">\r\n        <StepperDark step={step} />\r\n\r\n        <header className=\"text-center\">\r\n          <h2 className=\"text-6xl font-semibold tracking-tight\">\r\n            Have an Invoice?\r\n          </h2>\r\n          <p className=\"mt-2 text-base sm:text-xl lg:text-2xl text-zinc-400\">\r\n            Paste or type your reference to review details and continue to\r\n            payment.\r\n          </p>\r\n        </header>\r\n\r\n        {/* GLOW: wider linear glow behind the card */}\r\n        <div className=\"relative mt-8\">\r\n          <div className=\"absolute inset-x-0 -top-8 -z-10 h-32\">\r\n            <div className=\"glowbar mx-auto h-32 w-[120%] sm:w-[135%]\" />\r\n          </div>\r\n\r\n          {/* Dark “ticket” card */}\r\n          <div className=\"rounded-3xl border border-white/10 bg-[linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02))] backdrop-blur-md shadow-[0_30px_110px_-30px_rgba(0,0,0,.8)]\">\r\n            <div className=\"grid grid-cols-[112px_1fr]\">\r\n              {/* Left stub */}\r\n              <aside className=\"relative rounded-l-3xl bg-[radial-gradient(120px_60px_at_30%_25%,rgba(255,255,255,.08),transparent_60%),radial-gradient(140px_70px_at_70%_75%,rgba(255,255,255,.08),transparent_60%)] p-4\">\r\n                <div className=\"text-[10px] font-semibold tracking-[0.2em] text-zinc-400\">\r\n                  REF\r\n                </div>\r\n                <div className=\"mt-2 text-xs text-zinc-200\">\r\n                  {invoice?.id || refInput || \"INV-XXXXX\"}\r\n                </div>\r\n\r\n                {/* Stacked horizontal-bar barcode */}\r\n                <div\r\n                  className=\"mt-4 mx-auto h-28 w-12 overflow-hidden rounded bg-zinc-900/60 px-1.5 py-2 flex flex-col\"\r\n                  aria-label=\"barcode\"\r\n                >\r\n                  {barcodeBars.map((b, i) =>\r\n                    b.kind === \"single\" ? (\r\n                      <div key={i} style={{ marginTop: b.gapTop }}>\r\n                        <div\r\n                          className=\"w-full rounded-[1px]\"\r\n                          style={{\r\n                            height: b.h,\r\n                            background: \"rgba(255,255,255,0.88)\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div key={i} style={{ marginTop: b.gapTop }}>\r\n                        <div\r\n                          className=\"w-full rounded-[1px]\"\r\n                          style={{\r\n                            height: b.h1,\r\n                            background: \"rgba(255,255,255,0.88)\",\r\n                          }}\r\n                        />\r\n                        <div style={{ height: b.innerGap }} />\r\n                        <div\r\n                          className=\"w-full rounded-[1px]\"\r\n                          style={{\r\n                            height: b.h2,\r\n                            background: \"rgba(255,255,255,0.88)\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    )\r\n                  )}\r\n                </div>\r\n\r\n                {/* perforation separator */}\r\n                <div className=\"absolute right-0 top-3 bottom-3 w-px bg-zinc-400/40 [mask:repeating-linear-gradient(0deg,#000_0_8px,transparent_8px_16px)]\" />\r\n              </aside>\r\n\r\n              {/* Content */}\r\n              <div className=\"p-5 md:p-7\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <div>\r\n                    <div className=\"text-[10px] font-semibold tracking-[0.18em] text-zinc-400\">\r\n                      INVOICE\r\n                    </div>\r\n                    <div className=\"mt-2 flex flex-wrap items-center gap-3 text-sm text-zinc-300\">\r\n                      <Meta\r\n                        label=\"Date\"\r\n                        value={invoice ? fmtDate(invoice.dateISO) : \"— —\"}\r\n                      />\r\n                      <span className=\"h-3 w-px bg-white/10\" />\r\n                      <Meta label=\"Bill to\" value={invoice?.billTo || \"— —\"} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-[11px] text-zinc-400\">Amount</div>\r\n                    <div className=\"mt-1 text-2xl font-semibold tracking-tight text-white\">\r\n                      {invoice\r\n                        ? money(invoice.amount, invoice.currency)\r\n                        : \"— —\"}\r\n                    </div>\r\n                    <div className=\"mt-2 inline-flex items-center rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-[10px] text-zinc-300\">\r\n                      {invoice?.status ? capitalize(invoice.status) : \"Preview\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"my-5 h-px bg-zinc-500/50 [mask:repeating-linear-gradient(90deg,#000_0_10px,transparent_10px_18px)]\" />\r\n\r\n                {/* Reference input row */}\r\n                <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:gap-3\">\r\n                  <div className=\"inline-flex items-center gap-2 text-sm text-zinc-400\">\r\n                    Pay using reference\r\n                    <span className=\"rounded-md bg-white/5 px-1.5 py-0.5 font-mono text-[12px] text-zinc-200\">\r\n                      {invoice?.id || refInput || \"INV-XXXXX\"}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"flex-1\" />\r\n\r\n                  <div className=\"flex w-full gap-3 md:w-auto\">\r\n                    <label htmlFor=\"invref\" className=\"sr-only\">\r\n                      Invoice reference\r\n                    </label>\r\n                    <div className=\"relative w-full md:w-80\">\r\n                      <span className=\"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-zinc-300\">\r\n                        INV\r\n                      </span>\r\n                      <input\r\n                        id=\"invref\"\r\n                        ref={inputRef}\r\n                        inputMode=\"text\"\r\n                        autoComplete=\"off\"\r\n                        spellCheck={false}\r\n                        value={refInput}\r\n                        onChange={(e) => onChangeRef(e.target.value)}\r\n                        placeholder=\"INV-AX7Q9K\"\r\n                        className=\"h-10 w-full rounded-full border border-white/10 bg-zinc-900/70 pl-14 pr-4 text-sm tracking-wider text-white placeholder:text-zinc-500 outline-none focus:border-white/30\"\r\n                      />\r\n                    </div>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={openDrawer}\r\n                      disabled={!invoice || status !== \"found\"}\r\n                      className=\"h-10 whitespace-nowrap rounded-full bg-white/90 px-4 text-sm font-medium text-zinc-950 shadow-sm transition active:translate-y-px disabled:cursor-not-allowed disabled:opacity-30\"\r\n                    >\r\n                      Review →\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* tip + status */}\r\n                {/* <div className=\"mt-3 flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\r\n                  <p className=\"text-[11px] text-zinc-400\">\r\n                    Tip: Paste a reference anywhere. We’ll detect it automatically.\r\n                  </p>\r\n                  <StatusDark status={status} />\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Drawer */}\r\n            <div\r\n              className={[\r\n                \"overflow-hidden rounded-b-3xl border-t border-white/10 bg-zinc-900/50 backdrop-blur\",\r\n                drawer ? \"max-h-[500px]\" : \"max-h-0\",\r\n                reduced\r\n                  ? \"transition-[max-height] duration-200\"\r\n                  : \"transition-[max-height] duration-400\",\r\n              ].join(\" \")}\r\n              aria-hidden={!drawer}\r\n            >\r\n              <div className=\"p-6 md:p-8\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <div>\r\n                    <p className=\"text-xs text-zinc-400\">Paying</p>\r\n                    <p className=\"text-lg font-medium tracking-wide\">\r\n                      {invoice?.id} ·{\" \"}\r\n                      {invoice ? money(invoice.amount, invoice.currency) : \"\"}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <BadgeDark>Test mode</BadgeDark>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={closeDrawer}\r\n                      className=\"rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-xs text-zinc-200 hover:bg-white/10\"\r\n                    >\r\n                      Close\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-5 grid gap-4 md:grid-cols-3\">\r\n                  <InfoCardDark\r\n                    title=\"Status\"\r\n                    value={\r\n                      invoice?.status === \"unpaid\"\r\n                        ? \"Unpaid\"\r\n                        : invoice?.status || \"-\"\r\n                    }\r\n                  />\r\n                  <InfoCardDark\r\n                    title=\"Billed to\"\r\n                    value={invoice?.billTo || \"-\"}\r\n                  />\r\n                  <InfoCardDark\r\n                    title=\"Date\"\r\n                    value={invoice ? fmtDate(invoice.dateISO) : \"-\"}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mt-6 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center\">\r\n                  <MethodsRowDark />\r\n                  <div className=\"flex gap-3\">\r\n                    {canPay && aeUser ? (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={beginRazorpay}\r\n                        className=\"rounded-full bg-white text-zinc-950 px-5 py-2.5 text-sm font-medium shadow-sm hover:brightness-95\"\r\n                      >\r\n                        Pay with Razorpay\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() =>\r\n                          toast(\r\n                            aeUser\r\n                              ? \"Invoice not ready.\"\r\n                              : \"Outside UAE: request link.\"\r\n                          )\r\n                        }\r\n                        className=\"rounded-full border border-white/10 bg-white/5 px-5 py-2.5 text-sm font-medium text-zinc-200 hover:bg-white/10\"\r\n                      >\r\n                        Request Payment Link\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* toast */}\r\n          <div\r\n            className={[\r\n              \"pointer-events-none fixed left-1/2 top-6 z-50 -translate-x-1/2 rounded-full bg-black/80 px-3 py-1.5 text-xs text-white shadow\",\r\n              msg ? \"opacity-100\" : \"opacity-0\",\r\n              \"transition-opacity duration-200\",\r\n            ].join(\" \")}\r\n            role=\"status\"\r\n            aria-live=\"polite\"\r\n          >\r\n            {msg}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* glow animation (wider, softer) */}\r\n      <style jsx>{`\r\n        .glowbar {\r\n          height: 170px;\r\n          width: 100%;\r\n          filter: blur(32px);\r\n          opacity: 0.95;\r\n          background: linear-gradient(\r\n            90deg,\r\n            rgba(255, 255, 255, 0) 0%,\r\n            rgba(255, 255, 255, 0.22) 18%,\r\n            rgba(255, 255, 255, 0.55) 50%,\r\n            rgba(255, 255, 255, 0.22) 82%,\r\n            rgba(255, 255, 255, 0) 100%\r\n          );\r\n          background-repeat: no-repeat;\r\n          background-size: 320% 100%;\r\n          animation: glow-pan 9s linear infinite;\r\n          mix-blend-mode: screen;\r\n        }\r\n        @keyframes glow-pan {\r\n          0% {\r\n            background-position: -60% 0;\r\n          }\r\n          100% {\r\n            background-position: 160% 0;\r\n          }\r\n        }\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .glowbar {\r\n            animation: none;\r\n            opacity: 0.4;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n}\r\n\r\n/* --------- Presentational bits ---------- */\r\nfunction Meta({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <span className=\"inline-flex items-center gap-2\">\r\n      <span className=\"rounded-full bg-white/5 px-2 py-0.5 text-[10px] text-zinc-300\">\r\n        {label}\r\n      </span>\r\n      <span className=\"text-sm text-zinc-100\">{value}</span>\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction StatusDark({\r\n  status,\r\n}: {\r\n  status: \"idle\" | \"validating\" | \"fetching\" | \"found\" | \"notfound\" | \"error\";\r\n}) {\r\n  if (status === \"fetching\") {\r\n    return (\r\n      <div className=\"flex items-center gap-2\">\r\n        <div className=\"h-3 w-32 animate-pulse rounded bg-white/10\" />\r\n        <div className=\"h-3 w-16 animate-pulse rounded bg-white/10\" />\r\n      </div>\r\n    );\r\n  }\r\n  if (status === \"notfound\")\r\n    return (\r\n      <p className=\"text-sm text-rose-400/90\">\r\n        No invoice with that reference.\r\n      </p>\r\n    );\r\n  if (status === \"error\")\r\n    return (\r\n      <p className=\"text-sm text-rose-400/90\">Something broke. Try again.</p>\r\n    );\r\n  if (status === \"found\")\r\n    return <p className=\"text-sm text-emerald-300/90\">Invoice found.</p>;\r\n  return (\r\n    <span aria-hidden className=\"text-sm text-zinc-500\">\r\n      {\" \"}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction StepperDark({ step }: { step: 1 | 2 | 3 }) {\r\n  const items = [\r\n    { id: 1, label: \"Reference\" },\r\n    { id: 2, label: \"Review\" },\r\n    { id: 3, label: \"Pay\" },\r\n  ] as const;\r\n  return (\r\n    <div className=\"mx-auto mb-5 flex max-w-md items-center justify-center gap-5 text-xs\">\r\n      {items.map((it, i) => (\r\n        <div key={it.id} className=\"flex items-center gap-1.5\">\r\n          <span\r\n            className={[\r\n              \"grid h-5 w-5 place-items-center rounded-full border text-[10px]\",\r\n              step >= it.id\r\n                ? \"border-white bg-white text-zinc-900\"\r\n                : \"border-white/20 bg-white/5 text-zinc-400\",\r\n            ].join(\" \")}\r\n            aria-current={step === it.id ? \"step\" : undefined}\r\n          >\r\n            {it.id}\r\n          </span>\r\n          <span className={step >= it.id ? \"text-zinc-200\" : \"text-zinc-500\"}>\r\n            {it.label}\r\n          </span>\r\n          {i < items.length - 1 && (\r\n            <i className=\"mx-1 block h-px w-6 bg-white/15\" />\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction BadgeDark({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <span className=\"rounded-full border border-white/10 bg-white/5 px-2 py-0.5 text-[10px] text-zinc-200\">\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction InfoCardDark({ title, value }: { title: string; value: string }) {\r\n  return (\r\n    <div className=\"rounded-lg border border-white/10 bg-white/5 p-3\">\r\n      <p className=\"text-[11px] text-zinc-400\">{title}</p>\r\n      <p className=\"mt-1 text-sm font-medium text-zinc-100\">{value}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MethodsRowDark() {\r\n  return (\r\n    <div className=\"flex items-center gap-3 text-xs text-zinc-400\">\r\n      <span className=\"text-zinc-500\">Methods:</span>\r\n      <i className=\"inline-flex h-6 w-9 items-center justify-center rounded-md border border-white/10 bg-white/5 text-[10px] text-zinc-200\">\r\n        UPI\r\n      </i>\r\n      <svg\r\n        width=\"36\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 36 24\"\r\n        className=\"rounded-md border border-white/10 bg-white/5\"\r\n      >\r\n        <rect\r\n          x=\"1\"\r\n          y=\"1\"\r\n          width=\"34\"\r\n          height=\"22\"\r\n          rx=\"3\"\r\n          fill=\"rgba(255,255,255,0.05)\"\r\n        />\r\n        <rect\r\n          x=\"6\"\r\n          y=\"7\"\r\n          width=\"24\"\r\n          height=\"10\"\r\n          rx=\"2\"\r\n          fill=\"rgba(255,255,255,0.2)\"\r\n        />\r\n      </svg>\r\n      <i className=\"inline-flex h-6 items-center justify-center rounded-md border border-white/10 bg-white/5 px-2 text-[10px] text-zinc-200\">\r\n        NetBanking\r\n      </i>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ------------- Utilities --------------- */\r\nfunction useReducedMotion() {\r\n  const [prefers, setPrefers] = useState(false);\r\n  useEffect(() => {\r\n    const m = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\r\n    const update = () => setPrefers(m.matches);\r\n    update();\r\n    m.addEventListener?.(\"change\", update);\r\n    return () => m.removeEventListener?.(\"change\", update);\r\n  }, []);\r\n  return prefers;\r\n}\r\n\r\nfunction fmtDate(iso: string) {\r\n  try {\r\n    const d = new Date(iso + \"T00:00:00Z\");\r\n    return new Intl.DateTimeFormat(undefined, {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"2-digit\",\r\n    }).format(d);\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\nfunction capitalize(s: string) {\r\n  return s.charAt(0).toUpperCase() + s.slice(1);\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3154, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/how-it-works/DigitalDockingDivs.tsx"],"sourcesContent":["// components/how-it-works/DigitalDockingDivs.tsx\r\n\"use client\";\r\n\r\nimport React, {\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { gsap } from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\n\r\nif (typeof window !== \"undefined\") {\r\n  gsap.registerPlugin(ScrollTrigger);\r\n}\r\n\r\ntype Step = {\r\n  id: string;\r\n  title: string;\r\n  body: string;\r\n  href?: string;\r\n};\r\n\r\ntype DigitalDockingDivsProps = {\r\n  steps?: Step[];\r\n  /** number of tiny pips on each band's rails */\r\n  pipCount?: number;\r\n  /** subtle side glow sweep */\r\n  glowEnabled?: boolean;\r\n  /** moving highlight sweep across the band */\r\n  sweepEnabled?: boolean;\r\n  /** 3D tilt on hover (desktop only) */\r\n  hoverTilt?: boolean;\r\n  /** snap scroll to each step boundary */\r\n  snap?: boolean;\r\n  /** optional section title override */\r\n  heading?: string;\r\n};\r\n\r\nconst DEFAULT_STEPS: Step[] = [\r\n  {\r\n    id: \"plan\",\r\n    title: \"Plan Precisely\",\r\n    body: \"Share goals, constraints, and rough dates. We map feasibility in 24–48h.\",\r\n  },\r\n  {\r\n    id: \"curate\",\r\n    title: \"Curate Fast\",\r\n    body: \"Handpicked hotels, flights, and visa guidance matched to your constraints.\",\r\n  },\r\n  {\r\n    id: \"quote\",\r\n    title: \"Quote Clearly\",\r\n    body: \"Crystal pricing. No mystery fees. You approve, we lock inventory.\",\r\n  },\r\n  {\r\n    id: \"invoice\",\r\n    title: \"Invoice Simply\",\r\n    body: \"You get an invoice ref. Pay by reference; we reconcile instantly.\",\r\n  },\r\n  {\r\n    id: \"depart\",\r\n    title: \"Travel Confident\",\r\n    body: \"Final confirmations, WhatsApp support, and live changes if needed.\",\r\n  },\r\n];\r\n\r\n/** tiny util to build stable ref arrays */\r\nfunction makeRefArray<T>(n: number) {\r\n  const arr = Array<T | null>(n).fill(null);\r\n  const setAt = (i: number) => (el: T | null) => {\r\n    arr[i] = el;\r\n  };\r\n  return [arr, setAt] as const;\r\n}\r\n\r\nexport default function DigitalDockingDivs({\r\n  steps = DEFAULT_STEPS,\r\n  pipCount = 18,\r\n  glowEnabled = true,\r\n  sweepEnabled = true,\r\n  hoverTilt = true,\r\n  snap = true,\r\n  heading = \"How It Works\",\r\n}: DigitalDockingDivsProps) {\r\n  const sectionRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // refs per-step\r\n  const [shellRefs, setShell] = makeRefArray<HTMLLIElement>(steps.length);\r\n  const [bandRefs, setBand] = makeRefArray<HTMLDivElement>(steps.length);\r\n  const [fillRefs, setFill] = makeRefArray<HTMLDivElement>(steps.length);\r\n  const [sweepRefs, setSweep] = makeRefArray<HTMLDivElement>(steps.length);\r\n  const [beaconRefs, setBeacon] = makeRefArray<HTMLDivElement>(steps.length);\r\n  const [glowRefs, setGlow] = makeRefArray<HTMLDivElement>(steps.length);\r\n  const [badgeRefs, setBadge] = makeRefArray<HTMLSpanElement>(steps.length);\r\n  const [textRefs, setText] = makeRefArray<HTMLDivElement>(steps.length);\r\n\r\n  // runtime guardrails - use state to avoid hydration mismatch\r\n  const [clientSettings, setClientSettings] = useState({\r\n    reduced: false,\r\n    lowPower: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    const reduced =\r\n      window.matchMedia?.(\"(prefers-reduced-motion: reduce)\")?.matches ?? false;\r\n    const tiny = window.matchMedia?.(\"(max-width: 640px)\")?.matches ?? false;\r\n    const highDPR =\r\n      typeof window.devicePixelRatio === \"number\" &&\r\n      window.devicePixelRatio > 2;\r\n    const bodyFlag = document.documentElement.dataset.lowfx === \"1\";\r\n    const lowPower = tiny || highDPR || bodyFlag;\r\n\r\n    setClientSettings({ reduced, lowPower });\r\n  }, []);\r\n\r\n  const sweepOn = false; // Disabled light animation\r\n  const glowOn = false; // Disabled light animation\r\n  const tiltOn =\r\n    hoverTilt && !clientSettings.reduced && !clientSettings.lowPower;\r\n\r\n  // Use fixed pip count to avoid hydration mismatch\r\n  const pipCountEffective = Math.max(8, pipCount);\r\n\r\n  useEffect(() => {\r\n    if (!sectionRef.current) return;\r\n\r\n    const ctx = gsap.context(() => {\r\n      // Filter out null refs before setting properties\r\n      const validBandRefs = bandRefs.filter(Boolean);\r\n      const validFillRefs = fillRefs.filter(Boolean);\r\n      const validBeaconRefs = beaconRefs.filter(Boolean);\r\n      const validSweepRefs = sweepRefs.filter(Boolean);\r\n      const validGlowRefs = glowRefs.filter(Boolean);\r\n\r\n      // Only proceed if we have valid refs\r\n      if (validBandRefs.length === 0) return;\r\n\r\n      // Make all elements visible immediately (static appearance)\r\n      if (validBandRefs.length > 0)\r\n        gsap.set(validBandRefs, { opacity: 1, y: 0 });\r\n      if (validFillRefs.length > 0)\r\n        gsap.set(validFillRefs, { width: 0, opacity: 0.7 });\r\n      if (validBeaconRefs.length > 0) gsap.set(validBeaconRefs, { opacity: 1 });\r\n\r\n      // Hide sweep and glow initially\r\n      if (validSweepRefs.length > 0) gsap.set(validSweepRefs, { opacity: 0 });\r\n      if (!glowOn && validGlowRefs.length > 0)\r\n        gsap.set(validGlowRefs, { opacity: 0 });\r\n\r\n      // Create a single scroll-based animation for the entire section\r\n      const masterTL = gsap.timeline({\r\n        scrollTrigger: {\r\n          trigger: sectionRef.current,\r\n          start: \"top bottom\",\r\n          end: \"bottom top\",\r\n          scrub: 1, // smooth scrubbing\r\n          onUpdate: (self) => {\r\n            const progress = self.progress;\r\n\r\n            // Update each step based on global progress\r\n            bandRefs.forEach((band, i) => {\r\n              if (!band) return;\r\n\r\n              const fill = fillRefs[i];\r\n              const sweep = sweepRefs[i];\r\n              const beacon = beaconRefs[i];\r\n              const glow = glowRefs[i];\r\n\r\n              // Determine if this step should be illuminated\r\n              const stepStart = i / steps.length;\r\n              const stepEnd = (i + 1) / steps.length;\r\n              const stepProgress = Math.max(\r\n                0,\r\n                Math.min(1, (progress - stepStart) / (stepEnd - stepStart))\r\n              );\r\n\r\n              // Animate fill based on step progress - with null check\r\n              if (fill) {\r\n                gsap.set(fill, {\r\n                  width: `${stepProgress * 100}%`,\r\n                  opacity: stepProgress > 0 ? 0.7 : 0.3,\r\n                });\r\n              }\r\n\r\n              // Animate beacon position - with null check\r\n              if (beacon) {\r\n                gsap.set(beacon, {\r\n                  left: `${stepProgress * 100}%`,\r\n                  opacity: stepProgress > 0.1 ? 1 : 0.3,\r\n                  scale: stepProgress > 0.1 ? 1 : 0.8,\r\n                });\r\n              }\r\n\r\n              // Animate sweep highlight - with null check\r\n              if (sweep && sweepOn && stepProgress > 0) {\r\n                gsap.set(sweep, {\r\n                  xPercent: stepProgress * 120 - 20,\r\n                  opacity: stepProgress > 0.1 ? 0.4 : 0,\r\n                });\r\n              }\r\n\r\n              // Animate glow - with null check\r\n              if (glow && glowOn && stepProgress > 0) {\r\n                gsap.set(glow, {\r\n                  xPercent: stepProgress * 150 - 50,\r\n                  opacity: stepProgress > 0.1 ? 0.6 : 0,\r\n                });\r\n              }\r\n            });\r\n          },\r\n        },\r\n      });\r\n\r\n      // Optional desktop tilt\r\n      if (tiltOn && window.matchMedia(\"(hover: hover)\").matches) {\r\n        bandRefs.forEach((band) => {\r\n          if (!band) return;\r\n\r\n          let rect = band.getBoundingClientRect();\r\n          const ro = new ResizeObserver(() => {\r\n            rect = band.getBoundingClientRect();\r\n          });\r\n          ro.observe(band);\r\n\r\n          const onEnter = () => (rect = band.getBoundingClientRect());\r\n          const onMove = (e: PointerEvent) => {\r\n            const cx = rect.left + rect.width / 2;\r\n            const cy = rect.top + rect.height / 2;\r\n            const dx = (e.clientX - cx) / (rect.width / 2);\r\n            const dy = (e.clientY - cy) / (rect.height / 2);\r\n            band.style.setProperty(\"--rx\", `${-(dy * 2)}deg`);\r\n            band.style.setProperty(\"--ry\", `${dx * 3}deg`);\r\n          };\r\n          const onLeave = () => {\r\n            band.style.setProperty(\"--rx\", \"0deg\");\r\n            band.style.setProperty(\"--ry\", \"0deg\");\r\n          };\r\n\r\n          band.addEventListener(\"pointerenter\", onEnter, { passive: true });\r\n          band.addEventListener(\"pointermove\", onMove, { passive: true });\r\n          band.addEventListener(\"pointerleave\", onLeave, { passive: true });\r\n\r\n          // cleanup on unmount\r\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n          (band as any).__cleanupTilt = () => {\r\n            ro.disconnect();\r\n            band.removeEventListener(\"pointerenter\", onEnter);\r\n            band.removeEventListener(\"pointermove\", onMove);\r\n            band.removeEventListener(\"pointerleave\", onLeave);\r\n          };\r\n        });\r\n      }\r\n\r\n      // Section-level snapping to each step (keep if desired)\r\n      if (snap) {\r\n        let stops: number[] = [];\r\n        const computeStops = () => {\r\n          const sec = sectionRef.current!;\r\n          const secTop = sec.getBoundingClientRect().top + window.scrollY;\r\n          const total = Math.max(1, sec.scrollHeight - window.innerHeight);\r\n          stops = shellRefs.map((li) => {\r\n            if (!li) return 0;\r\n            const top = li.getBoundingClientRect().top + window.scrollY;\r\n            const p = (top - secTop) / total;\r\n            return Math.min(1, Math.max(0, p));\r\n          });\r\n        };\r\n        computeStops();\r\n        const snapST = ScrollTrigger.create({\r\n          id: \"runway-snap\",\r\n          trigger: sectionRef.current!,\r\n          start: \"top top\",\r\n          end: () =>\r\n            `+=${Math.max(\r\n              1,\r\n              sectionRef.current!.scrollHeight - window.innerHeight\r\n            )}`,\r\n          snap: {\r\n            snapTo: (value) =>\r\n              stops.length ? gsap.utils.snap(stops, value) : value,\r\n            duration: 0.3,\r\n            ease: \"power1.inOut\",\r\n          },\r\n          onRefreshInit: computeStops,\r\n          onRefresh: computeStops,\r\n        });\r\n\r\n        // cleanup snap\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (sectionRef.current as any).__cleanupSnap = () => snapST.kill();\r\n      }\r\n    }, sectionRef);\r\n\r\n    return () => {\r\n      // cleanup tilt listeners\r\n      bandRefs.forEach((el) => {\r\n        if (!el) return;\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (el as any).__cleanupTilt?.();\r\n      });\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      (sectionRef.current as any)?.__cleanupSnap?.();\r\n      ctx.revert();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [steps.length, sweepOn, glowOn, tiltOn, snap, clientSettings.reduced]);\r\n\r\n  // simple pip renderer\r\n  const renderPips = (prefix: string) =>\r\n    Array.from({ length: pipCountEffective }).map((_, i) => (\r\n      <div\r\n        key={`${prefix}${i}`}\r\n        className=\"h-[1.5px] w-2 sm:h-[2px] sm:w-3 rounded-full bg-white/60 opacity-20\"\r\n      />\r\n    ));\r\n\r\n  return (\r\n    <section\r\n      ref={sectionRef}\r\n      aria-labelledby=\"howitworks-heading\"\r\n      className=\"relative isolate bg-zinc-950 text-zinc-100\"\r\n    >\r\n      {/* soft backdrop + glow bar */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 [background:radial-gradient(1200px_520px_at_18%_-10%,rgba(255,255,255,0.09)_0%,transparent_60%)]\"\r\n      />\r\n      <div className=\"absolute inset-x-0 top-8 sm:top-12 -z-10 h-16 sm:h-24 overflow-hidden\">\r\n        <div className=\"glowbar mx-auto h-16 sm:h-24 w-[130%]\" />\r\n      </div>\r\n\r\n      <div className=\"mx-auto max-w-[980px] px-3 sm:px-4 lg:px-5 pt-10 sm:pt-14 lg:pt-16 pb-12 sm:pb-16 lg:pb-20\">\r\n        <header className=\"mb-6 sm:mb-7 lg:mb-9 text-center\">\r\n          <h2\r\n            id=\"howitworks-heading\"\r\n            className=\"text-6xl font-semibold tracking-tight\"\r\n          >\r\n            {heading}\r\n          </h2>\r\n          <p className=\"mt-2 text-base sm:text-xl lg:text-2xl text-zinc-400 max-w-2xl mx-auto\">\r\n            Five phases. The runway lights guide you from left to right.\r\n          </p>\r\n        </header>\r\n\r\n        <ol className=\"space-y-4 sm:space-y-6 lg:space-y-7\">\r\n          {steps.map((s: Step, i: number) => (\r\n            <li\r\n              key={s.id}\r\n              ref={setShell(i)}\r\n              className=\"relative min-h-[72px] sm:min-h-[88px] lg:min-h-[96px]\"\r\n            >\r\n              <div\r\n                ref={setBand(i)}\r\n                className={[\r\n                  \"absolute inset-0 group rounded-xl sm:rounded-2xl lg:rounded-[26px] border border-white/10\",\r\n                  \"bg-zinc-900/40 px-3 sm:px-4 lg:px-5 py-3 sm:py-3.5 lg:py-4.5\",\r\n                  \"transition-transform duration-200 will-change-transform\",\r\n                  \"[transform:rotateX(var(--rx,0deg))_rotateY(var(--ry,0deg))] [transform-style:preserve-3d]\",\r\n                  clientSettings.lowPower ? \"\" : \"backdrop-blur\",\r\n                  \"shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05),inset_0_1px_0_rgba(255,255,255,0.05),inset_0_-1px_0_rgba(0,0,0,0.45)]\",\r\n                ].join(\" \")}\r\n              >\r\n                {/* dotted runway texture */}\r\n                <div\r\n                  aria-hidden\r\n                  className=\"pointer-events-none absolute inset-0 rounded-xl sm:rounded-2xl lg:rounded-[26px] opacity-[.14]\"\r\n                  style={{\r\n                    backgroundImage:\r\n                      \"radial-gradient(circle at 14px 50%, rgba(255,255,255,.18) 2px, transparent 2px)\",\r\n                    backgroundSize: \"40px 12px sm:60px 18px\",\r\n                    backgroundPosition: \"0 50%\",\r\n                  }}\r\n                />\r\n\r\n                {/* top and bottom pips - hidden on mobile */}\r\n                <div className=\"absolute inset-x-2 sm:inset-x-3 top-1.5 sm:top-2 hidden md:flex items-center justify-between gap-1\">\r\n                  {renderPips(\"t\")}\r\n                </div>\r\n                <div className=\"absolute inset-x-2 sm:inset-x-3 bottom-1.5 sm:bottom-2 hidden md:flex items-center justify-between gap-1\">\r\n                  {renderPips(\"b\")}\r\n                </div>\r\n\r\n                {/* progress fill */}\r\n                <div\r\n                  ref={setFill(i)}\r\n                  className=\"absolute inset-y-0 left-0 w-0 will-change-[transform,opacity,width] [transform:translateZ(0)]\"\r\n                  style={{\r\n                    background:\r\n                      \"linear-gradient(90deg, rgba(255,255,255,0.13) 0%, rgba(255,255,255,0.08) 60%, rgba(255,255,255,0.00) 100%)\",\r\n                  }}\r\n                />\r\n\r\n                {/* side glow sweep */}\r\n                {glowOn && (\r\n                  <div\r\n                    ref={setGlow(i)}\r\n                    aria-hidden\r\n                    className=\"pointer-events-none absolute inset-y-0 -left-1/3 w-1/3 will-change-transform [transform:translateZ(0)]\"\r\n                    style={{\r\n                      background:\r\n                        \"linear-gradient(90deg, transparent, rgba(185,190,255,0.9), transparent)\",\r\n                      filter: \"blur(12px)\",\r\n                      opacity: 0.6,\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {/* moving highlight */}\r\n                {sweepOn && (\r\n                  <div\r\n                    ref={setSweep(i)}\r\n                    className=\"pointer-events-none absolute top-0 h-full w-16 sm:w-24 lg:w-36 opacity-0 will-change-[transform,opacity] [transform:translateZ(0)]\"\r\n                    style={{\r\n                      left: \"-10%\",\r\n                      background:\r\n                        \"radial-gradient(60%_100% at 50% 50%, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0.10) 45%, rgba(255,255,255,0.0) 70%)\",\r\n                      mixBlendMode: \"screen\",\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {/* beacon dot */}\r\n                <div\r\n                  ref={setBeacon(i)}\r\n                  className=\"absolute top-1/2 h-2.5 w-2.5 sm:h-3 sm:w-3 lg:h-3.5 lg:w-3.5 -translate-y-1/2 rounded-full bg-white\"\r\n                  style={{\r\n                    left: \"-6px\",\r\n                    boxShadow:\r\n                      \"0 0 10px rgba(255,245,230,.55), 0 0 28px rgba(255,200,150,.25)\",\r\n                  }}\r\n                />\r\n\r\n                {/* content grid */}\r\n                <div\r\n                  className=\"relative grid items-center gap-x-2 sm:gap-x-3 lg:gap-x-6 overflow-visible\"\r\n                  style={{ gridTemplateColumns: \"var(--col-spec)\" }}\r\n                >\r\n                  <span\r\n                    ref={setBadge(i)}\r\n                    className=\"inline-flex h-6 sm:h-7 lg:h-8 items-center justify-center rounded-lg border border-white/15 bg-white/10 px-1.5 sm:px-2 text-[9px] sm:text-[10px] lg:text-[11px] font-semibold tracking-wide text-white flex-shrink-0\"\r\n                  >\r\n                    STEP {i + 1}\r\n                  </span>\r\n\r\n                  <div className=\"leading-tight text-white flex-shrink-0\">\r\n                    <h3 className=\"text-sm sm:text-[16px] md:text-[18px] lg:text-[20px] font-semibold\">\r\n                      {s.title}\r\n                    </h3>\r\n                  </div>\r\n\r\n                  <div\r\n                    ref={setText(i)}\r\n                    className=\"text-xs sm:text-[14px] lg:text-[15px] text-zinc-300 min-w-0\"\r\n                  >\r\n                    {s.body}\r\n                    {s.href ? (\r\n                      <a\r\n                        href={s.href}\r\n                        className=\"ml-2 inline-flex items-center text-[11px] sm:text-[13px] text-zinc-200 underline decoration-zinc-500/60 underline-offset-2 hover:text-white\"\r\n                      >\r\n                        Learn more →\r\n                      </a>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ol>\r\n      </div>\r\n\r\n      {/* responsive column spec */}\r\n      <style jsx>{`\r\n        :global(section[aria-labelledby=\"howitworks-heading\"]) {\r\n          --col-spec: 60px minmax(100px, 160px) 1fr;\r\n        }\r\n        @media (min-width: 640px) {\r\n          :global(section[aria-labelledby=\"howitworks-heading\"]) {\r\n            --col-spec: 74px minmax(120px, 180px) 1fr;\r\n          }\r\n        }\r\n        @media (min-width: 1024px) {\r\n          :global(section[aria-labelledby=\"howitworks-heading\"]) {\r\n            --col-spec: 86px minmax(140px, 200px) 1fr;\r\n          }\r\n        }\r\n        @media (min-width: 1280px) {\r\n          :global(section[aria-labelledby=\"howitworks-heading\"]) {\r\n            --col-spec: 92px minmax(160px, 240px) 1fr;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3721, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/smart-faq/SmartFAQ.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\n\r\n/* --------------------------------------------------------------------------\r\n * Smart FAQ — two-pane layout\r\n * - Sticky left \"Dock\": search, chips, utilities\r\n * - Right \"Results\": Best Answer hero + accordion list\r\n * - Dark, glassy, subtle grid texture, accent edge; no animated bg\r\n * - URL sync with { scroll:false }, keyboard nav, JSON-LD\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport type FAQItem = {\r\n  id: string;\r\n  question: string;\r\n  answer: string;\r\n  tags: string[];\r\n  synonyms?: string[];\r\n  cta?: { label: string; href: string };\r\n  related?: string[];\r\n};\r\n\r\nconst FAQS: FAQItem[] = [\r\n  {\r\n    id: \"quotation-flow\",\r\n    question: \"How does the booking/quotation flow work?\",\r\n    answer:\r\n      \"You submit your trip details; our team calls to refine the plan; we send a formal quotation with an invoice reference.\",\r\n    tags: [\"booking\", \"quotes\"],\r\n    synonyms: [\r\n      \"how do i book\",\r\n      \"pricing process\",\r\n      \"get a quote\",\r\n      \"quotation process\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"what-is-trip-builder-lite\",\r\n    question: \"What is Trip Builder Lite?\",\r\n    answer:\r\n      \"A guided, one-question-at-a-time flow inspired by Typeform. It collects your route, dates, travellers, preferences and hands the request to our team.\",\r\n    tags: [\"trip builder\"],\r\n    synonyms: [\"smart trip form\", \"builder\", \"typeform flow\"],\r\n    cta: { label: \"Start Trip Builder\", href: \"#trip-builder\" },\r\n  },\r\n  {\r\n    id: \"pay-invoice\",\r\n    question: \"How do I pay an invoice?\",\r\n    answer:\r\n      \"Use the Have an Invoice section and enter your reference number. You’ll be redirected to our payment gateway.\",\r\n    tags: [\"payments\", \"invoices\"],\r\n    synonyms: [\"pay bill\", \"payment link\", \"settle invoice\"],\r\n    cta: { label: \"Pay invoice\", href: \"#invoice-pay\" },\r\n  },\r\n];\r\n\r\n/* ---------------- helpers ---------------- */\r\nconst norm = (s: string) => s.toLowerCase().normalize(\"NFKD\");\r\nconst tokenize = (s: string) =>\r\n  norm(s)\r\n    .replace(/[^a-z0-9\\s]/g, \" \")\r\n    .split(/\\s+/)\r\n    .filter(Boolean);\r\n\r\nfunction editDistance(a: string, b: string) {\r\n  a = norm(a);\r\n  b = norm(b);\r\n  const m = a.length,\r\n    n = b.length;\r\n  if (!m) return n;\r\n  if (!n) return m;\r\n  const dp = Array.from({ length: m + 1 }, () => new Array(n + 1).fill(0));\r\n  for (let i = 0; i <= m; i++) dp[i][0] = i;\r\n  for (let j = 0; j <= n; j++) dp[0][j] = j;\r\n  for (let i = 1; i <= m; i++) {\r\n    for (let j = 1; j <= n; j++) {\r\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\r\n      dp[i][j] = Math.min(\r\n        dp[i - 1][j] + 1,\r\n        dp[i][j - 1] + 1,\r\n        dp[i - 1][j - 1] + cost\r\n      );\r\n    }\r\n  }\r\n  return dp[m][n];\r\n}\r\n\r\nfunction scoreItem(q: string, item: FAQItem) {\r\n  if (!q.trim()) return 0.0001;\r\n  const qn = norm(q);\r\n  const qTokens = tokenize(q);\r\n  const title = norm(item.question);\r\n  const ans = norm(item.answer);\r\n  const tags = item.tags.map(norm);\r\n  const syns = (item.synonyms || []).map(norm);\r\n  let score = 0;\r\n\r\n  if (title.includes(qn)) score += 18;\r\n  if (ans.includes(qn)) score += 6;\r\n\r\n  for (const qt of qTokens) {\r\n    if (qt.length < 2) continue;\r\n    if (title.split(/\\s+/).includes(qt)) score += 10;\r\n    if (title.includes(qt)) score += 6;\r\n    if (tags.some((t) => t.includes(qt))) score += 7;\r\n    if (syns.some((s) => s.includes(qt))) score += 6;\r\n    if (ans.includes(qt)) score += 3;\r\n\r\n    const cands = [\r\n      ...title.split(/\\s+/),\r\n      ...syns.flatMap((s) => s.split(/\\s+/)),\r\n      ...tags,\r\n    ];\r\n    let best = Infinity;\r\n    for (const c of cands) best = Math.min(best, editDistance(qt, c));\r\n    if (best <= 1 && qt.length >= 4) score += 5;\r\n    else if (best === 2 && qt.length >= 5) score += 3;\r\n  }\r\n  score += Math.min(item.answer.length, 200) / 200;\r\n  return score;\r\n}\r\n\r\nfunction clsx(...xs: Array<string | false | null | undefined>) {\r\n  return xs.filter(Boolean).join(\" \");\r\n}\r\n\r\n/* ---------------- component ---------------- */\r\nexport default function SmartFAQ() {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  const allTags = useMemo(() => {\r\n    const s = new Set<string>();\r\n    FAQS.forEach((f) => f.tags.forEach((t) => s.add(t)));\r\n    return Array.from(s).sort();\r\n  }, []);\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\r\n  const [expanded, setExpanded] = useState<Set<string>>(new Set());\r\n  const [activeIndex, setActiveIndex] = useState(-1);\r\n\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n  const lastToggledId = useRef<string | null>(null);\r\n\r\n  /* Parse URL once */\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const sp = new URLSearchParams(window.location.search);\r\n    const q = sp.get(\"q\") || \"\";\r\n    const t = (sp.get(\"tags\") || \"\").split(\",\").filter(Boolean);\r\n    const ex = new Set((sp.get(\"expanded\") || \"\").split(\",\").filter(Boolean));\r\n    setQuery(q);\r\n    setSelectedTags(t);\r\n    setExpanded(ex);\r\n\r\n    const hash = window.location.hash.replace(/^#\\/?/, \"\");\r\n    if (hash.startsWith(\"faq/\")) {\r\n      const id = hash.slice(4);\r\n      if (id) setExpanded((prev) => new Set(prev).add(id));\r\n    }\r\n  }, []);\r\n\r\n  /* Sync URL AFTER render, without scrolling to top */\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const sp = new URLSearchParams();\r\n    if (query) sp.set(\"q\", query);\r\n    if (selectedTags.length) sp.set(\"tags\", selectedTags.join(\",\"));\r\n    if (expanded.size) sp.set(\"expanded\", Array.from(expanded).join(\",\"));\r\n    router.replace(`${pathname}?${sp.toString()}`, { scroll: false });\r\n  }, [query, selectedTags, expanded, router, pathname]);\r\n\r\n  /* Deep-link hash update after commit, no scroll jump */\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const id = lastToggledId.current;\r\n    if (!id) return;\r\n    const open = expanded.has(id);\r\n    const sp = new URLSearchParams(window.location.search);\r\n    const url = `${pathname}?${sp.toString()}${open ? `#faq/${id}` : \"\"}`;\r\n    history.replaceState(null, \"\", url);\r\n  }, [expanded, pathname]);\r\n\r\n  // Mutators — no router calls here\r\n  const toggleTag = useCallback((t: string) => {\r\n    setSelectedTags((prev) =>\r\n      prev.includes(t) ? prev.filter((x) => x !== t) : [...prev, t]\r\n    );\r\n  }, []);\r\n\r\n  const removeTag = useCallback((t: string) => {\r\n    setSelectedTags((prev) => prev.filter((x) => x !== t));\r\n  }, []);\r\n\r\n  const clearAll = useCallback(() => {\r\n    setQuery(\"\");\r\n    setSelectedTags([]);\r\n    setExpanded(new Set());\r\n    setActiveIndex(-1);\r\n    searchRef.current?.focus();\r\n  }, []);\r\n\r\n  const setAllExpanded = useCallback((open: boolean, ids: string[]) => {\r\n    setExpanded(new Set<string>(open ? ids : []));\r\n  }, []);\r\n\r\n  const toggleExpand = useCallback((id: string) => {\r\n    setExpanded((prev) => {\r\n      const next = new Set(prev);\r\n      next.has(id) ? next.delete(id) : next.add(id);\r\n      lastToggledId.current = id;\r\n      return next;\r\n    });\r\n  }, []);\r\n\r\n  /* Search + ranking */\r\n  const ranked = useMemo(() => {\r\n    const byTags = selectedTags.length\r\n      ? FAQS.filter((f) => selectedTags.every((t) => f.tags.includes(t)))\r\n      : FAQS;\r\n\r\n    const withScores = byTags.map((f) => ({\r\n      item: f,\r\n      score: scoreItem(query, f),\r\n    }));\r\n    withScores.sort(\r\n      (a, b) =>\r\n        b.score - a.score || a.item.question.localeCompare(b.item.question)\r\n    );\r\n\r\n    const best = withScores[0];\r\n    const second = withScores[1];\r\n    const bestAnswerId =\r\n      best &&\r\n      ((second ? best.score - second.score > 10 : best.score > 18) ||\r\n        norm(best.item.question) === norm(query))\r\n        ? best.item.id\r\n        : null;\r\n\r\n    return { bestAnswerId, results: withScores.map((x) => x.item) };\r\n  }, [query, selectedTags]);\r\n\r\n  const visibleIds = useMemo(\r\n    () => ranked.results.map((r) => r.id),\r\n    [ranked.results]\r\n  );\r\n\r\n  /* Keyboard nav */\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      const target = e.target as HTMLElement | null;\r\n      const isTyping =\r\n        target &&\r\n        (target.tagName === \"INPUT\" ||\r\n          target.tagName === \"TEXTAREA\" ||\r\n          target.getAttribute(\"contenteditable\") === \"true\");\r\n\r\n      if (e.key === \"/\" && !isTyping) {\r\n        e.preventDefault();\r\n        searchRef.current?.focus();\r\n        return;\r\n      }\r\n      if (e.key === \"Escape\") {\r\n        clearAll();\r\n        return;\r\n      }\r\n      if (e.key === \"ArrowDown\" || e.key === \"ArrowUp\") {\r\n        e.preventDefault();\r\n        setActiveIndex((prev) => {\r\n          const max = ranked.results.length - 1;\r\n          if (max < 0) return -1;\r\n          const next =\r\n            e.key === \"ArrowDown\"\r\n              ? Math.min(max, prev + 1)\r\n              : Math.max(0, prev - 1);\r\n          const id = ranked.results[next]?.id;\r\n          document\r\n            .getElementById(`faq-item-${id}`)\r\n            ?.scrollIntoView({ block: \"nearest\" });\r\n          return next;\r\n        });\r\n        return;\r\n      }\r\n      if (e.key === \"Enter\" && activeIndex >= 0) {\r\n        e.preventDefault();\r\n        const id = ranked.results[activeIndex]?.id;\r\n        if (id) toggleExpand(id);\r\n      }\r\n    }\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [ranked.results, activeIndex, toggleExpand, clearAll]);\r\n\r\n  /* JSON-LD */\r\n  const jsonLd = useMemo(() => {\r\n    const mainEntity = ranked.results.slice(0, 6).map((f) => ({\r\n      \"@type\": \"Question\",\r\n      name: f.question,\r\n      acceptedAnswer: { \"@type\": \"Answer\", text: f.answer },\r\n    }));\r\n    return {\r\n      \"@context\": \"https://schema.org\",\r\n      \"@type\": \"FAQPage\",\r\n      mainEntity,\r\n    } as const;\r\n  }, [ranked.results]);\r\n\r\n  return (\r\n    <section className=\"relative w-full bg-transparent text-white/90\">\r\n      <div className=\"relative mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-14 sm:py-18\">\r\n        <header className=\"mb-8 sm:mb-10\">\r\n          <p className=\"text-xs tracking-[0.25em] text-white/50 uppercase\">\r\n            Answers, on tap\r\n          </p>\r\n          <h2 className=\"mt-2 text-6xl font-semibold tracking-tight text-white\">\r\n            Smart FAQ\r\n          </h2>\r\n          <p className=\"mt-3 text-base sm:text-xl lg:text-2xl text-white/70\">\r\n            Search, filter, deep link. Press{\" \"}\r\n            <kbd className=\"px-1 py-0.5 rounded bg-white/10 text-white/80\">\r\n              /\r\n            </kbd>{\" \"}\r\n            to focus search.\r\n          </p>\r\n        </header>\r\n\r\n        {/* Two-pane layout */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-5\">\r\n          {/* Dock (left) */}\r\n          <aside className=\"lg:col-span-4\" aria-label=\"FAQ filters and tools\">\r\n            <div className=\"dockPanel sticky top-[calc(var(--header-h,72px)+16px)]\">\r\n              <div className=\"panel accentEdge rounded-2xl overflow-hidden\">\r\n                {/* Search */}\r\n                <div className=\"border-b border-white/10 p-3 sm:p-4\">\r\n                  <label htmlFor=\"faq-search\" className=\"sr-only\">\r\n                    Search questions\r\n                  </label>\r\n                  <div className=\"flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2.5\">\r\n                    <div\r\n                      className=\"i-lucide-search h-4 w-4 opacity-60\"\r\n                      aria-hidden\r\n                    />\r\n                    <input\r\n                      id=\"faq-search\"\r\n                      ref={searchRef}\r\n                      value={query}\r\n                      onChange={(e) => setQuery(e.target.value)}\r\n                      placeholder=\"Search questions...\"\r\n                      className=\"w-full bg-transparent outline-none placeholder-white/40 text-sm sm:text-base\"\r\n                    />\r\n                    <kbd className=\"hidden sm:block text-[11px] px-1.5 py-0.5 rounded bg-white/10 text-white/70\">\r\n                      /\r\n                    </kbd>\r\n                  </div>\r\n\r\n                  {/* Active filters */}\r\n                  {(selectedTags.length > 0 || query) && (\r\n                    <div className=\"mt-3 flex flex-wrap gap-2\">\r\n                      {query && (\r\n                        <span className=\"inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/10 px-3 py-1.5 text-xs\">\r\n                          <span className=\"text-white/70\">Query:</span>\r\n                          <span className=\"text-white\">{query}</span>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"opacity-70 hover:opacity-100\"\r\n                            aria-label=\"Clear search\"\r\n                            onClick={() => setQuery(\"\")}\r\n                          >\r\n                            ×\r\n                          </button>\r\n                        </span>\r\n                      )}\r\n                      {selectedTags.map((t) => (\r\n                        <span\r\n                          key={`sel-${t}`}\r\n                          className=\"inline-flex items-center gap-2 rounded-full bg-white/10 border border-white/10 px-3 py-1.5 text-xs\"\r\n                        >\r\n                          <span className=\"text-white\">{t}</span>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"opacity-70 hover:opacity-100\"\r\n                            aria-label={`Remove ${t}`}\r\n                            onClick={() => removeTag(t)}\r\n                          >\r\n                            ×\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={clearAll}\r\n                        className=\"ml-auto text-xs rounded-md px-2.5 py-1.5 bg-white/10 hover:bg-white/15 border border-white/10\"\r\n                      >\r\n                        Reset\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Tags */}\r\n                <div className=\"p-3 sm:p-4\">\r\n                  <div className=\"mb-2 text-[11px] uppercase tracking-[0.16em] text-white/50\">\r\n                    Filter by tags\r\n                  </div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {allTags.map((t) => {\r\n                      const on = selectedTags.includes(t);\r\n                      return (\r\n                        <button\r\n                          key={t}\r\n                          type=\"button\"\r\n                          onClick={() => toggleTag(t)}\r\n                          className={clsx(\r\n                            \"shrink-0 text-xs sm:text-sm rounded-full px-3 py-1.5 border transition\",\r\n                            on\r\n                              ? \"bg-white text-black border-white\"\r\n                              : \"bg-white/5 text-white/80 border-white/10 hover:bg-white/10\"\r\n                          )}\r\n                          aria-pressed={on}\r\n                        >\r\n                          {t.charAt(0).toUpperCase() + t.slice(1)}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n                  {/* Utilities */}\r\n                  <div className=\"mt-4 flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setAllExpanded(true, visibleIds)}\r\n                      className=\"text-xs rounded-md px-2.5 py-1.5 bg-white/10 hover:bg-white/15 border border-white/10\"\r\n                    >\r\n                      Expand all\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setAllExpanded(false, visibleIds)}\r\n                      className=\"text-xs rounded-md px-2.5 py-1.5 bg-white/10 hover:bg-white/15 border border-white/10\"\r\n                    >\r\n                      Collapse all\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Count card */}\r\n              <div className=\"mt-4 panel rounded-xl px-4 py-3 text-sm text-white/70\">\r\n                <span className=\"text-white\">{ranked.results.length}</span>{\" \"}\r\n                result\r\n                {ranked.results.length === 1 ? \"\" : \"s\"} found\r\n              </div>\r\n            </div>\r\n          </aside>\r\n\r\n          {/* Results (right) */}\r\n          <main className=\"lg:col-span-8\">\r\n            {/* Best Answer hero */}\r\n            {ranked.bestAnswerId && (\r\n              <BestAnswerHero\r\n                item={FAQS.find((f) => f.id === ranked.bestAnswerId)!}\r\n                onToggle={() => toggleExpand(ranked.bestAnswerId!)}\r\n                expanded={expanded.has(ranked.bestAnswerId)}\r\n              />\r\n            )}\r\n\r\n            {/* List */}\r\n            <div className=\"space-y-3\">\r\n              {ranked.results.map((f, i) => (\r\n                <FAQRow\r\n                  key={f.id}\r\n                  index={i}\r\n                  item={f}\r\n                  active={i === activeIndex}\r\n                  expanded={expanded.has(f.id)}\r\n                  onToggle={() => toggleExpand(f.id)}\r\n                />\r\n              ))}\r\n\r\n              {ranked.results.length === 0 && <EmptyState onReset={clearAll} />}\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n\r\n      {/* JSON-LD */}\r\n      <script\r\n        type=\"application/ld+json\"\r\n        suppressHydrationWarning\r\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\r\n      />\r\n\r\n      {/* Panels + accent edge + subtle grid texture */}\r\n      <style jsx>{`\r\n        .dockPanel {\r\n          /* wrapper so sticky looks good on tall pages */\r\n        }\r\n\r\n        .panel {\r\n          position: relative;\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          background: linear-gradient(\r\n              to bottom right,\r\n              rgba(255, 255, 255, 0.06),\r\n              rgba(255, 255, 255, 0.03)\r\n            )\r\n            border-box;\r\n          backdrop-filter: blur(14px);\r\n          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06),\r\n            0 8px 30px rgba(0, 0, 0, 0.35);\r\n        }\r\n        /* subtle grid texture */\r\n        .panel::after {\r\n          content: \"\";\r\n          position: absolute;\r\n          inset: 0;\r\n          border-radius: inherit;\r\n          background-image: linear-gradient(\r\n              to right,\r\n              rgba(255, 255, 255, 0.03) 1px,\r\n              transparent 1px\r\n            ),\r\n            linear-gradient(\r\n              to bottom,\r\n              rgba(255, 255, 255, 0.03) 1px,\r\n              transparent 1px\r\n            );\r\n          background-size: 24px 24px;\r\n          pointer-events: none;\r\n          mask: linear-gradient(#000, #000);\r\n        }\r\n        /* accent edge on the left side */\r\n        .accentEdge {\r\n          overflow: hidden;\r\n        }\r\n        .accentEdge::before {\r\n          content: \"\";\r\n          position: absolute;\r\n          inset: 0 0 0 auto;\r\n          width: 4px;\r\n          border-radius: 999px;\r\n          background: linear-gradient(\r\n            180deg,\r\n            rgba(255, 255, 255, 0.7),\r\n            rgba(255, 255, 255, 0.12)\r\n          );\r\n          opacity: 0.6;\r\n        }\r\n        @media (prefers-color-scheme: light) {\r\n          .panel {\r\n            border-color: rgba(0, 0, 0, 0.1);\r\n          }\r\n          .panel::after {\r\n            background-image: linear-gradient(\r\n                to right,\r\n                rgba(0, 0, 0, 0.04) 1px,\r\n                transparent 1px\r\n              ),\r\n              linear-gradient(\r\n                to bottom,\r\n                rgba(0, 0, 0, 0.04) 1px,\r\n                transparent 1px\r\n              );\r\n          }\r\n          .accentEdge::before {\r\n            opacity: 0.5;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n}\r\n\r\n/* ---------- subviews ---------- */\r\n\r\nfunction BestAnswerHero({\r\n  item,\r\n  onToggle,\r\n  expanded,\r\n}: {\r\n  item: FAQItem;\r\n  onToggle: () => void;\r\n  expanded: boolean;\r\n}) {\r\n  return (\r\n    <article className=\"mb-4 rounded-2xl overflow-hidden panel\">\r\n      <div className=\"relative p-4 sm:p-5\">\r\n        {/* ribbon */}\r\n        <div className=\"mb-3 inline-flex items-center gap-2 rounded-full border border-amber-300/30 bg-amber-300/15 px-3 py-1\">\r\n          <span className=\"h-1.5 w-1.5 rounded-full bg-amber-300/80\" />\r\n          <span className=\"text-xs tracking-wide text-amber-100/90 uppercase\">\r\n            Best answer\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-start justify-between gap-3\">\r\n          <h3 className=\"text-lg sm:text-xl font-semibold text-white\">\r\n            {item.question}\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            className=\"text-xs rounded-md px-2.5 py-1.5 bg-amber-200/20 hover:bg-amber-200/30 border border-amber-200/30\"\r\n            onClick={onToggle}\r\n            aria-expanded={expanded}\r\n          >\r\n            {expanded ? \"Hide\" : \"Show\"}\r\n          </button>\r\n        </div>\r\n\r\n        <div\r\n          className={clsx(\r\n            \"grid transition-[grid-template-rows,opacity] duration-150 ease-out\",\r\n            expanded\r\n              ? \"grid-rows-[1fr] opacity-100\"\r\n              : \"grid-rows-[0fr] opacity-80\"\r\n          )}\r\n        >\r\n          <div className=\"overflow-hidden\">\r\n            <p className=\"mt-2 text-sm sm:text-[15px] leading-6 text-white/80\">\r\n              {item.answer}\r\n            </p>\r\n            <div className=\"mt-3\">\r\n              {item.cta && (\r\n                <a\r\n                  href={item.cta.href}\r\n                  className=\"inline-flex items-center gap-2 rounded-lg border border-white/15 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15\"\r\n                >\r\n                  {item.cta.label}\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nfunction FAQRow({\r\n  item,\r\n  expanded,\r\n  onToggle,\r\n  active,\r\n  index,\r\n  compact = false,\r\n  showBadge = true,\r\n}: {\r\n  item: FAQItem;\r\n  expanded: boolean;\r\n  onToggle: () => void;\r\n  active?: boolean;\r\n  index: number;\r\n  compact?: boolean;\r\n  showBadge?: boolean;\r\n}) {\r\n  const id = `faq-item-${item.id}`;\r\n  const rowBg = index % 2 === 0 ? \"bg-white/[0.045]\" : \"bg-white/[0.065]\";\r\n\r\n  const onRelatedClick = (rid: string) => (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    const el = document.getElementById(`faq-item-${rid}`);\r\n    if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n  };\r\n\r\n  return (\r\n    <article\r\n      id={id}\r\n      data-faq-row\r\n      className={clsx(\r\n        \"rounded-2xl border border-white/10 panel\",\r\n        rowBg,\r\n        active && \"ring-2 ring-white/30\"\r\n      )}\r\n    >\r\n      <header className=\"px-3 sm:px-4 py-3\">\r\n        {showBadge && (\r\n          <div className=\"mb-2 flex items-center gap-2 text-[10px] sm:text-xs uppercase tracking-[0.15em] text-white/50\">\r\n            {item.tags.map((t) => (\r\n              <span key={t} className=\"inline-flex items-center gap-1.5\">\r\n                <span className=\"inline-block h-1.5 w-1.5 rounded-full bg-white/40\" />\r\n                {t}\r\n              </span>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={onToggle}\r\n          aria-expanded={expanded}\r\n          aria-controls={`${id}-panel`}\r\n          className=\"group w-full flex items-start justify-between gap-3 text-left\"\r\n        >\r\n          <h3\r\n            className={clsx(\r\n              \"text-base sm:text-lg font-semibold text-white\",\r\n              compact && \"text-base\"\r\n            )}\r\n          >\r\n            {item.question}\r\n          </h3>\r\n          <span\r\n            className={clsx(\r\n              \"mt-0.5 inline-flex h-7 w-7 items-center justify-center rounded-lg border border-white/10 bg-white/5 text-white/70 transition-transform\",\r\n              expanded ? \"rotate-180\" : \"rotate-0\"\r\n            )}\r\n            aria-hidden\r\n          >\r\n            ▾\r\n          </span>\r\n        </button>\r\n\r\n        <div\r\n          id={`${id}-panel`}\r\n          className={clsx(\r\n            \"grid transition-[grid-template-rows,opacity] duration-150 ease-out\",\r\n            expanded\r\n              ? \"grid-rows-[1fr] opacity-100\"\r\n              : \"grid-rows-[0fr] opacity-70\"\r\n          )}\r\n        >\r\n          <div className=\"overflow-hidden\">\r\n            <p className=\"mt-2 text-sm sm:text-[15px] leading-6 text-white/75\">\r\n              {item.answer}\r\n            </p>\r\n\r\n            <div className=\"mt-3 flex flex-wrap items-center gap-3\">\r\n              {item.cta && (\r\n                <a\r\n                  href={item.cta.href}\r\n                  className=\"inline-flex items-center gap-2 rounded-lg border border-white/15 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15\"\r\n                >\r\n                  {item.cta.label}\r\n                </a>\r\n              )}\r\n              {item.related && item.related.length > 0 && (\r\n                <div className=\"text-xs text-white/50\">\r\n                  Related:{\" \"}\r\n                  {item.related\r\n                    .map((rid) => (\r\n                      <a\r\n                        key={rid}\r\n                        href={`#faq/${rid}`}\r\n                        onClick={onRelatedClick(rid)}\r\n                        className=\"underline decoration-white/30 underline-offset-2 hover:text-white/70\"\r\n                      >\r\n                        {rid.replace(/-/g, \" \")}\r\n                      </a>\r\n                    ))\r\n                    .reduce(\r\n                      (acc: React.ReactNode[], curr, i) =>\r\n                        i\r\n                          ? [...acc, <span key={`sep-${i}`}> · </span>, curr]\r\n                          : [curr],\r\n                      [] as React.ReactNode[]\r\n                    )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    </article>\r\n  );\r\n}\r\n\r\nfunction EmptyState({ onReset }: { onReset: () => void }) {\r\n  return (\r\n    <div className=\"rounded-2xl panel px-4 py-8 text-center text-white/70\">\r\n      <p className=\"text-sm\">\r\n        No results. Try <span className=\"text-white\">“invoice”</span>,{\" \"}\r\n        <span className=\"text-white\">“visa”</span>, or{\" \"}\r\n        <span className=\"text-white\">“Trip Builder”</span>.\r\n      </p>\r\n      <button\r\n        type=\"button\"\r\n        className=\"mt-4 rounded-lg border border-white/15 bg-white/10 px-3 py-1.5 text-sm hover:bg-white/15\"\r\n        onClick={onReset}\r\n      >\r\n        Clear filters\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4819, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/lib/trip-builder/guardrails.ts"],"sourcesContent":["// lib/trip-builder/guardrails.ts\nexport const DESTINATIONS = [\n  \"Dubai, UAE\",\n  \"Singapore, Singapore\",\n  \"Bangkok, Thailand\",\n  \"Bali, Indonesia\",\n  \"Istanbul, Turkey\",\n  \"Maldives, Maldives\",\n  \"Phuket, Thailand\",\n  \"Doha, Qatar\",\n] as const;\n\nexport const ORIGIN_CITIES = [\n  \"Mumbai, India\",\n  \"Delhi, India\",\n  \"Bangalore, India\",\n  \"Chennai, India\",\n  \"Kolkata, India\",\n  \"Hyderabad, India\",\n  \"Pune, India\",\n  \"Ahmedabad, India\",\n  \"New York, USA\",\n  \"London, UK\",\n  \"Dubai, UAE\",\n  \"Singapore, Singapore\",\n] as const;\n\nexport const NATIONALITIES = [\n  \"Indian\",\n  \"NRI\",\n  \"South Asian\",\n  \"American\",\n  \"Other\",\n] as const;\n\nexport const AIRLINES = [\n  \"Any\",\n  \"IndiGo\",\n  \"Air India\",\n  \"Emirates\",\n  \"Qatar Airways\",\n  \"Vistara\",\n] as const;\n\nexport const ROOMS = [\n  \"King Bed\",\n  \"Twin Beds\",\n  \"Connecting Rooms\",\n  \"High Floor\",\n  \"Non-Smoking\",\n  \"Accessible\",\n  \"Sea View\",\n] as const;\n\nexport const ACTIVITIES = [\n  \"Desert Safari\",\n  \"Burj Al Arab Tour\",\n  \"City Tour\",\n  \"Museum\",\n  \"Theme Park\",\n] as const;\n\nexport const HOTEL_PREFERENCES = [\"3 Star\", \"4 Star\", \"5 Star\"] as const;\n\nexport const FLIGHT_CLASSES = [\"Economy\", \"Business\", \"First\"] as const;\n\nexport const VISA_STATUS = [\"Available\", \"N/A\"] as const;\n\n// Tiny fact blurbs used for small talk.\n// Keep these brand-safe and non-claimy.\nconst FACTS: Record<string, string> = {\n  \"Dubai, UAE\": \"Desert meets skyscrapers; family-friendly and easy to plan.\",\n  \"Singapore, Singapore\":\n    \"Compact, spotless, wildly efficient. Food courts are elite.\",\n  \"Bangkok, Thailand\": \"Temples by day, markets by night. Great value.\",\n  \"Bali, Indonesia\": \"Beach + rice terraces. Photogenic to a rude degree.\",\n  \"Istanbul, Turkey\": \"Two continents, one city. History stacked on history.\",\n  \"Maldives, Maldives\": \"Clear lagoons, overwater villas, escape energy.\",\n  \"Phuket, Thailand\":\n    \"Tropical paradise with stunning beaches and vibrant nightlife.\",\n  \"Doha, Qatar\":\n    \"Modern architecture meets traditional culture in the heart of the Middle East.\",\n};\n\nexport function niceFact(dest?: string) {\n  return dest && FACTS[dest] ? FACTS[dest] : \"Solid choice. Easy planning.\";\n}\n\nexport function whereIs(dest?: string) {\n  return dest\n    ? `${dest} is a popular, well-connected destination with plenty of family-friendly options.`\n    : \"A well-connected destination with straightforward planning.\";\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;;;;;;;;;;;;;;;;;;;AAC1B,MAAM,eAAe;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,gBAAgB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,gBAAgB;IAC3B;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,WAAW;IACtB;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,QAAQ;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,aAAa;IACxB;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,oBAAoB;IAAC;IAAU;IAAU;CAAS;AAExD,MAAM,iBAAiB;IAAC;IAAW;IAAY;CAAQ;AAEvD,MAAM,cAAc;IAAC;IAAa;CAAM;AAE/C,wCAAwC;AACxC,wCAAwC;AACxC,MAAM,QAAgC;IACpC,cAAc;IACd,wBACE;IACF,qBAAqB;IACrB,mBAAmB;IACnB,oBAAoB;IACpB,sBAAsB;IACtB,oBACE;IACF,eACE;AACJ;AAEO,SAAS,SAAS,IAAa;IACpC,OAAO,QAAQ,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AAC7C;AAEO,SAAS,QAAQ,IAAa;IACnC,OAAO,OACH,AAAC,GAAO,OAAL,MAAK,uFACR;AACN","debugId":null}},
    {"offset": {"line": 4938, "column": 0}, "map": {"version":3,"sources":["file:///Users/abdulraheem/Developer/Next/travelclone/components/trip/TripBuilderLite.tsx"],"sourcesContent":["// components/trip/TripBuilderLite.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// Pull the same curated choices you use in TripBuilderReceipt\r\nimport {\r\n  AIRLINES,\r\n  DESTINATIONS as DESTINATION_CHOICES,\r\n  NATIONALITIES,\r\n  ORIGIN_CITIES,\r\n  HOTEL_PREFERENCES,\r\n  FLIGHT_CLASSES,\r\n  VISA_STATUS,\r\n  DESTINATIONS, // used for label mapping\r\n} from \"@/lib/trip-builder/guardrails\";\r\n\r\n/* ---------------- Types ---------------- */\r\ntype Answers = {\r\n  from?: string; // \"City, Country\"\r\n  destination?: string; // \"City, Country\"\r\n  startDate?: string; // ISO yyyy-mm-dd\r\n  endDate?: string; // ISO yyyy-mm-dd\r\n  adults?: number;\r\n  children?: number;\r\n\r\n  passengerName?: string;\r\n  phoneCountryCode?: string; // \"+91\"\r\n  phoneNumber?: string;\r\n  email?: string;\r\n  nationality?: string;\r\n  airlinePref?: string;\r\n  hotelPref?: string;\r\n  flightClass?: string;\r\n  visaStatus?: string;\r\n\r\n  seededDestination?: string;\r\n  seedPromptShown?: boolean;\r\n};\r\n\r\ntype StepId =\r\n  | \"fromLocation\"\r\n  | \"destinationSeed\"\r\n  | \"destinationSelect\"\r\n  | \"dates\"\r\n  | \"travellers\"\r\n  | \"passengerName\"\r\n  | \"phoneNumber\"\r\n  | \"email\"\r\n  | \"nationality\"\r\n  | \"airline\"\r\n  | \"hotel\"\r\n  | \"flightClass\"\r\n  | \"visa\"\r\n  | \"summary\";\r\n\r\n/* Keep flow identical to TripBuilderReceipt */\r\nconst STEPS: StepId[] = [\r\n  \"fromLocation\",\r\n  \"destinationSeed\",\r\n  \"destinationSelect\",\r\n  \"dates\",\r\n  \"travellers\",\r\n  \"passengerName\",\r\n  \"phoneNumber\",\r\n  \"email\",\r\n  \"nationality\",\r\n  \"airline\",\r\n  \"hotel\",\r\n  \"flightClass\",\r\n  \"visa\",\r\n  \"summary\",\r\n];\r\n\r\n/* ---------------- Helpers ---------------- */\r\nfunction fmtDate(iso?: string) {\r\n  if (!iso) return \"\";\r\n  try {\r\n    const d = new Date(iso + \"T00:00:00\");\r\n    return d.toLocaleDateString(undefined, {\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    });\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\n// map labels like \"Dubai, UAE\" or \"Dubai\" back to canonical label\r\nconst DESTINATION_LABEL_TO_ID = DESTINATIONS.reduce<Record<string, string>>(\r\n  (acc, dest) => {\r\n    acc[dest.toLowerCase()] = dest;\r\n    const city = dest.split(\",\")[0].toLowerCase();\r\n    acc[city] = dest;\r\n    return acc;\r\n  },\r\n  {}\r\n);\r\n\r\nfunction destinationSlugFromLabel(label?: string) {\r\n  if (!label) return undefined;\r\n  const key = label.toLowerCase().trim();\r\n  if (DESTINATION_LABEL_TO_ID[key]) return DESTINATION_LABEL_TO_ID[key];\r\n  const parts = label.split(\",\").map((p) => p.trim());\r\n  if (parts.length >= 2) {\r\n    const recomposedKey = `${parts[0].toLowerCase()}, ${parts[1].toLowerCase()}`;\r\n    return DESTINATION_LABEL_TO_ID[recomposedKey];\r\n  }\r\n  return undefined;\r\n}\r\n\r\n/* ---------------- Component ---------------- */\r\nexport default function TripBuilderLite() {\r\n  const router = useRouter();\r\n\r\n  const [idx, setIdx] = useState(0);\r\n  const [maxVisited, setMaxVisited] = useState(0); // allow pip jump back, not forward\r\n  const [answers, setAnswers] = useState<Answers>({\r\n    adults: 1,\r\n    children: 0,\r\n    // seededDestination: \"Dubai, UAE\",\r\n    seedPromptShown: false,\r\n    phoneCountryCode: \"+91\",\r\n  });\r\n\r\n  // Determine current step, but skip destinationSeed if nothing is seeded\r\n  const steps = useMemo(() => {\r\n    if (!answers.seededDestination) {\r\n      return STEPS.filter((s) => s !== \"destinationSeed\");\r\n    }\r\n    return STEPS;\r\n  }, [answers.seededDestination]);\r\n\r\n  const current = steps[idx];\r\n\r\n  // submission state\r\n  const [submitting, setSubmitting] = useState<\r\n    \"idle\" | \"saving\" | \"saved\" | \"error\"\r\n  >(\"idle\");\r\n\r\n  const hasAll = useMemo(() => {\r\n    return Boolean(\r\n      answers.from &&\r\n        (answers.destination || answers.seededDestination) &&\r\n        answers.nationality &&\r\n        answers.startDate &&\r\n        answers.endDate &&\r\n        answers.passengerName?.trim() &&\r\n        (answers.phoneCountryCode || \"\").trim() &&\r\n        (answers.phoneNumber || \"\").trim() &&\r\n        (answers.email || \"\").trim() &&\r\n        answers.airlinePref &&\r\n        answers.hotelPref &&\r\n        answers.flightClass &&\r\n        answers.visaStatus\r\n    );\r\n  }, [answers]);\r\n\r\n  // keyboard: arrows for nav, Enter to proceed/submit\r\n  useEffect(() => {\r\n    const onKey = (e: KeyboardEvent) => {\r\n      if (e.key === \"ArrowRight\") {\r\n        e.preventDefault();\r\n        goNext();\r\n      } else if (e.key === \"ArrowLeft\") {\r\n        e.preventDefault();\r\n        goPrev();\r\n      } else if (e.key === \"Enter\") {\r\n        if (current === \"summary\") {\r\n          if (hasAll) {\r\n            e.preventDefault();\r\n            submitRequest();\r\n          }\r\n        } else if (canProceed()) {\r\n          e.preventDefault();\r\n          goNext();\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [current, idx, answers, hasAll, submitting]);\r\n\r\n  function canProceed(): boolean {\r\n    switch (current) {\r\n      case \"fromLocation\":\r\n        return !!answers.from;\r\n      case \"destinationSeed\":\r\n        return true; // user will click keep/change buttons\r\n      case \"destinationSelect\":\r\n        return !!answers.destination;\r\n      case \"dates\":\r\n        return Boolean(\r\n          answers.startDate &&\r\n            answers.endDate &&\r\n            answers.startDate <= answers.endDate\r\n        );\r\n      case \"travellers\":\r\n        return (answers.adults ?? 0) >= 1 && (answers.children ?? 0) >= 0;\r\n      case \"passengerName\":\r\n        return Boolean(answers.passengerName?.trim());\r\n      case \"phoneNumber\":\r\n        return Boolean(\r\n          (answers.phoneCountryCode || \"\").trim().length >= 1 &&\r\n            (answers.phoneNumber || \"\").replace(/\\s+/g, \"\").length >= 6\r\n        );\r\n      case \"email\":\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(answers.email || \"\");\r\n      case \"nationality\":\r\n        return !!answers.nationality;\r\n      case \"airline\":\r\n        return !!answers.airlinePref;\r\n      case \"hotel\":\r\n        return !!answers.hotelPref;\r\n      case \"flightClass\":\r\n        return !!answers.flightClass;\r\n      case \"visa\":\r\n        return !!answers.visaStatus;\r\n      case \"summary\":\r\n        return true;\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  function goNext() {\r\n    if (!canProceed()) return;\r\n\r\n    // special routing to mirror receipt flow nuances\r\n    if (current === \"fromLocation\") {\r\n      const next = answers.seededDestination\r\n        ? \"destinationSeed\"\r\n        : \"destinationSelect\";\r\n      const to = steps.indexOf(next);\r\n      setIdx(to);\r\n      setMaxVisited((v) => Math.max(v, to));\r\n      return;\r\n    }\r\n    if (current === \"destinationSeed\") {\r\n      return;\r\n    }\r\n    setIdx((i) => {\r\n      const ni = Math.min(i + 1, steps.length - 1);\r\n      setMaxVisited((v) => Math.max(v, ni));\r\n      return ni;\r\n    });\r\n  }\r\n\r\n  function goPrev() {\r\n    setIdx((i) => Math.max(i - 1, 0));\r\n  }\r\n\r\n  // Allow jumping via pips to any visited step\r\n  function jumpTo(i: number) {\r\n    if (i <= maxVisited) setIdx(i);\r\n  }\r\n\r\n  // Focus management - only focus if user is already within the trip builder section\r\n  const questionRef = useRef<HTMLDivElement | null>(null);\r\n  useEffect(() => {\r\n    const tripBuilderSection = document.getElementById(\"trip-builder\");\r\n    if (tripBuilderSection) {\r\n      const rect = tripBuilderSection.getBoundingClientRect();\r\n      const isInView = rect.top >= 0 && rect.top < window.innerHeight;\r\n      if (isInView && questionRef.current) {\r\n        questionRef.current.focus({ preventScroll: true });\r\n      }\r\n    }\r\n  }, [current]);\r\n\r\n  // Simple setter without auto-advance\r\n  function setAnswer<K extends keyof Answers>(key: K, value: Answers[K]) {\r\n    setAnswers((a) => ({ ...a, [key]: value }));\r\n  }\r\n\r\n  // \"Keep seeded destination?\" actions\r\n  function keepSeeded() {\r\n    if (!answers.seededDestination) return;\r\n    setAnswers((a) => ({\r\n      ...a,\r\n      destination: a.seededDestination,\r\n      seededDestination: undefined,\r\n      seedPromptShown: true,\r\n    }));\r\n    const to = steps.indexOf(\"dates\");\r\n    if (to >= 0) {\r\n      setTimeout(() => {\r\n        setIdx(to);\r\n        setMaxVisited((v) => Math.max(v, to));\r\n      }, 100);\r\n    }\r\n  }\r\n  function changeDestination() {\r\n    setAnswers((a) => ({\r\n      ...a,\r\n      seededDestination: undefined,\r\n      seedPromptShown: true,\r\n    }));\r\n    const to = steps.indexOf(\"destinationSelect\");\r\n    if (to >= 0) {\r\n      setTimeout(() => {\r\n        setIdx(to);\r\n        setMaxVisited((v) => Math.max(v, to));\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  async function submitRequest() {\r\n    if (!hasAll || submitting === \"saving\") return;\r\n\r\n    setSubmitting(\"saving\");\r\n\r\n    const payload = {\r\n      origin: answers.from!,\r\n      destination: answers.destination || answers.seededDestination || \"\",\r\n      nationality: answers.nationality!,\r\n      startDate: answers.startDate!,\r\n      endDate: answers.endDate!,\r\n      adults: answers.adults ?? 1,\r\n      kids: answers.children ?? 0,\r\n      airlinePreference: answers.airlinePref!,\r\n      hotelPreference: answers.hotelPref!,\r\n      flightClass: answers.flightClass!,\r\n      visaStatus: answers.visaStatus!,\r\n      passengerName: answers.passengerName!,\r\n      email: answers.email!,\r\n      phoneCountryCode: answers.phoneCountryCode!,\r\n      phoneNumber: answers.phoneNumber!,\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(\"/api/trip-requests\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n\r\n      const json = await res.json().catch(() => null);\r\n      const createdId =\r\n        json && typeof json === \"object\"\r\n          ? (json as { id?: string }).id ?? null\r\n          : null;\r\n\r\n      setSubmitting(\"saved\");\r\n\r\n      const params = new URLSearchParams();\r\n      const destId = destinationSlugFromLabel(payload.destination);\r\n      if (destId) params.set(\"destinationId\", destId);\r\n\r\n      if (createdId) {\r\n        router.push(\r\n          `/trip/receipt/${createdId}${params.size ? `?${params}` : \"\"}`\r\n        );\r\n      } else {\r\n        router.push(`/trip/receipt${params.size ? `?${params}` : \"\"}`);\r\n      }\r\n    } catch {\r\n      setSubmitting(\"error\");\r\n    }\r\n  }\r\n\r\n  // Basic swipe navigation for mobile\r\n  const touchStartX = useRef<number | null>(null);\r\n  const touchEndX = useRef<number | null>(null);\r\n  function onTouchStart(e: React.TouchEvent) {\r\n    touchStartX.current = e.changedTouches[0].clientX;\r\n    touchEndX.current = null;\r\n  }\r\n  function onTouchMove(e: React.TouchEvent) {\r\n    touchEndX.current = e.changedTouches[0].clientX;\r\n  }\r\n  function onTouchEnd() {\r\n    if (touchStartX.current == null || touchEndX.current == null) return;\r\n    const dx = touchEndX.current - touchStartX.current;\r\n    if (Math.abs(dx) > 48) {\r\n      if (dx > 0) goPrev();\r\n      else if (canProceed()) goNext();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section\r\n      id=\"trip-builder\"\r\n      aria-labelledby=\"tripbuilder-heading\"\r\n      className=\"relative isolate w-full bg-zinc-950 text-zinc-100 overflow-x-hidden\"\r\n      // dvh avoids iOS URL bar jump; safe-area padding improves tap targets\r\n      style={{\r\n        paddingBottom: \"max(env(safe-area-inset-bottom, 0px), 16px)\",\r\n      }}\r\n    >\r\n      {/* Vignette + linear glow */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 [background:radial-gradient(1200px_500px_at_20%_-10%,rgba(255,255,255,0.08)_0%,transparent_60%)]\"\r\n      />\r\n      <div className=\"absolute inset-x-0 top-1/2 -z-10 h-32 overflow-hidden pointer-events-none\">\r\n        <div className=\"glowbar mx-auto h-32 w-[135%]\" />\r\n      </div>\r\n\r\n      <div className=\"mx-auto grid max-w-4xl place-items-center px-3 pt-12 pb-[108px] sm:px-4 sm:pt-16 md:pt-18\">\r\n        <h2\r\n          id=\"tripbuilder-heading\"\r\n          className=\"mb-4 text-center text-6xl font-semibold tracking-tight text-white sm:mb-6\"\r\n        >\r\n          Trip Builder Lite\r\n        </h2>\r\n\r\n        <div className=\"relative w-full rounded-2xl border border-white/10 bg-gradient-to-b from-zinc-950/60 to-zinc-900/60 p-0.5 backdrop-blur\">\r\n          <div className=\"relative rounded-2xl bg-zinc-950/60 p-3 sm:p-4 md:p-6\">\r\n            <div\r\n              aria-hidden\r\n              className=\"pointer-events-none absolute inset-0 rounded-2xl ring-1 ring-white/10 [box-shadow:0_0_0_1px_rgba(255,255,255,0.04),0_0_40px_2px_rgba(180,180,255,0.08)_inset]\"\r\n            />\r\n\r\n            {/* Progress (clickable for visited steps) */}\r\n            <ProgressPips\r\n              total={steps.length}\r\n              index={idx}\r\n              onJump={jumpTo}\r\n              maxVisited={maxVisited}\r\n            />\r\n\r\n            {/* Fixed-size question box, responsive to viewport */}\r\n            <div className=\"mx-auto mt-3 w-full max-w-2xl sm:mt-4 md:mt-6\">\r\n              <div\r\n                ref={questionRef}\r\n                tabIndex={-1}\r\n                aria-live=\"polite\"\r\n                onTouchStart={onTouchStart}\r\n                onTouchMove={onTouchMove}\r\n                onTouchEnd={onTouchEnd}\r\n                className={[\r\n                  \"relative rounded-xl border border-white/10 bg-white/5 p-3 sm:p-4 md:p-5\",\r\n                  \"overflow-y-auto hide-scrollbar overscroll-contain\",\r\n                  \"pb-24\",\r\n                ].join(\" \")}\r\n                style={{\r\n                  minHeight: \"min(70dvh, 500px)\",\r\n                  maxHeight: \"min(78dvh, 620px)\",\r\n                }}\r\n              >\r\n                <div className=\"grid w-full gap-6\">\r\n                  {current === \"fromLocation\" && (\r\n                    <StepShell\r\n                      title=\"Where are you traveling from?\"\r\n                      subtitle=\"Major cities with airports\"\r\n                    >\r\n                      <ChoiceGrid\r\n                        options={ORIGIN_CITIES}\r\n                        value={answers.from}\r\n                        onChange={(v) => setAnswer(\"from\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"destinationSeed\" &&\r\n                    answers.seededDestination && (\r\n                      <StepShell\r\n                        title={`Keep ${answers.seededDestination} as your destination?`}\r\n                        subtitle=\"You can change it if needed\"\r\n                      >\r\n                        <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:gap-4\">\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn-primary min-h-[44px] touch-manipulation\"\r\n                            onClick={keepSeeded}\r\n                          >\r\n                            Keep {answers.seededDestination}\r\n                          </button>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn-secondary min-h-[44px] touch-manipulation\"\r\n                            onClick={changeDestination}\r\n                          >\r\n                            Change destination\r\n                          </button>\r\n                        </div>\r\n                      </StepShell>\r\n                    )}\r\n\r\n                  {current === \"destinationSelect\" && (\r\n                    <StepShell\r\n                      title=\"Pick a destination\"\r\n                      subtitle=\"We’ll refine specifics after you submit\"\r\n                    >\r\n                      <ChoiceGrid\r\n                        options={DESTINATION_CHOICES}\r\n                        value={answers.destination}\r\n                        onChange={(v) => setAnswer(\"destination\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"dates\" && (\r\n                    <StepShell\r\n                      title=\"When do you plan to travel?\"\r\n                      subtitle=\"Select your start and end dates\"\r\n                    >\r\n                      <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:gap-4\">\r\n                        <Labeled field=\"start-date\" label=\"Start date\">\r\n                          <input\r\n                            id=\"start-date\"\r\n                            type=\"date\"\r\n                            value={answers.startDate ?? \"\"}\r\n                            max={answers.endDate || undefined}\r\n                            onChange={(e) => {\r\n                              const newStartDate = e.target.value;\r\n                              setAnswers((a) => ({\r\n                                ...a,\r\n                                startDate: newStartDate,\r\n                              }));\r\n                            }}\r\n                            className=\"input\"\r\n                          />\r\n                        </Labeled>\r\n                        <Labeled field=\"end-date\" label=\"End date\">\r\n                          <input\r\n                            id=\"end-date\"\r\n                            type=\"date\"\r\n                            value={answers.endDate ?? \"\"}\r\n                            min={answers.startDate || undefined}\r\n                            onChange={(e) => {\r\n                              const newEndDate = e.target.value;\r\n                              setAnswers((a) => ({\r\n                                ...a,\r\n                                endDate: newEndDate,\r\n                              }));\r\n                            }}\r\n                            className=\"input\"\r\n                          />\r\n                        </Labeled>\r\n                      </div>\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"travellers\" && (\r\n                    <StepShell\r\n                      title=\"How many travelers?\"\r\n                      subtitle=\"At least one adult is required\"\r\n                    >\r\n                      <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:gap-4\">\r\n                        <Labeled field=\"adults\" label=\"Adults\">\r\n                          <NumberField\r\n                            id=\"adults\"\r\n                            min={1}\r\n                            value={answers.adults ?? 1}\r\n                            onChange={(n) => {\r\n                              setAnswers((a) => ({ ...a, adults: n }));\r\n                            }}\r\n                          />\r\n                        </Labeled>\r\n                        <Labeled field=\"children\" label=\"Children\">\r\n                          <NumberField\r\n                            id=\"children\"\r\n                            min={0}\r\n                            value={answers.children ?? 0}\r\n                            onChange={(n) => {\r\n                              setAnswers((a) => ({ ...a, children: n }));\r\n                            }}\r\n                          />\r\n                        </Labeled>\r\n                      </div>\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"passengerName\" && (\r\n                    <StepShell title=\"What's the passenger name?\">\r\n                      <Labeled field=\"pname\" label=\"Full name\">\r\n                        <input\r\n                          id=\"pname\"\r\n                          type=\"text\"\r\n                          placeholder=\"Type your name\"\r\n                          inputMode=\"text\"\r\n                          autoComplete=\"name\"\r\n                          value={answers.passengerName ?? \"\"}\r\n                          onChange={(e) => {\r\n                            const newName = e.target.value;\r\n                            setAnswers((a) => ({\r\n                              ...a,\r\n                              passengerName: newName,\r\n                            }));\r\n                          }}\r\n                          className=\"input\"\r\n                        />\r\n                      </Labeled>\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"phoneNumber\" && (\r\n                    <StepShell title=\"Best phone number?\">\r\n                      <div className=\"grid grid-cols-[100px_1fr] gap-2 sm:grid-cols-[140px_1fr] sm:gap-3\">\r\n                        <Labeled field=\"pcode\" label=\"Country code\">\r\n                          <input\r\n                            id=\"pcode\"\r\n                            type=\"tel\"\r\n                            placeholder=\"+91\"\r\n                            inputMode=\"tel\"\r\n                            value={answers.phoneCountryCode ?? \"\"}\r\n                            onChange={(e) => {\r\n                              const newCode = e.target.value;\r\n                              setAnswers((a) => ({\r\n                                ...a,\r\n                                phoneCountryCode: newCode,\r\n                              }));\r\n                            }}\r\n                            className=\"input\"\r\n                          />\r\n                        </Labeled>\r\n                        <Labeled field=\"pnum\" label=\"Number\">\r\n                          <input\r\n                            id=\"pnum\"\r\n                            type=\"tel\"\r\n                            placeholder=\"98765 43210\"\r\n                            inputMode=\"tel\"\r\n                            autoComplete=\"tel\"\r\n                            value={answers.phoneNumber ?? \"\"}\r\n                            onChange={(e) => {\r\n                              const newNumber = e.target.value;\r\n                              setAnswers((a) => ({\r\n                                ...a,\r\n                                phoneNumber: newNumber,\r\n                              }));\r\n                            }}\r\n                            className=\"input\"\r\n                          />\r\n                        </Labeled>\r\n                      </div>\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"email\" && (\r\n                    <StepShell title=\"Where should we email your itinerary?\">\r\n                      <Labeled field=\"email\" label=\"Email\">\r\n                        <input\r\n                          id=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"you@example.com\"\r\n                          inputMode=\"email\"\r\n                          autoComplete=\"email\"\r\n                          value={answers.email ?? \"\"}\r\n                          onChange={(e) => {\r\n                            const newEmail = e.target.value;\r\n                            setAnswers((a) => ({ ...a, email: newEmail }));\r\n                          }}\r\n                          className=\"input\"\r\n                        />\r\n                      </Labeled>\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"nationality\" && (\r\n                    <StepShell title=\"What's your nationality?\">\r\n                      <ChoiceGrid\r\n                        options={NATIONALITIES}\r\n                        value={answers.nationality}\r\n                        onChange={(v) => setAnswer(\"nationality\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"airline\" && (\r\n                    <StepShell title=\"Any airline preference?\">\r\n                      <ChoiceGrid\r\n                        options={AIRLINES}\r\n                        value={answers.airlinePref}\r\n                        onChange={(v) => setAnswer(\"airlinePref\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"hotel\" && (\r\n                    <StepShell title=\"Hotel preference?\">\r\n                      <ChoiceGrid\r\n                        options={[...HOTEL_PREFERENCES, \"7 Star\"]}\r\n                        value={answers.hotelPref}\r\n                        onChange={(v) => setAnswer(\"hotelPref\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"flightClass\" && (\r\n                    <StepShell title=\"Flight class preference?\">\r\n                      <ChoiceGrid\r\n                        options={[...FLIGHT_CLASSES, \"Premium Economy\"]}\r\n                        value={answers.flightClass}\r\n                        onChange={(v) => setAnswer(\"flightClass\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"visa\" && (\r\n                    <StepShell title=\"Do you have a visa?\">\r\n                      <ChoiceGrid\r\n                        options={VISA_STATUS}\r\n                        value={answers.visaStatus}\r\n                        onChange={(v) => setAnswer(\"visaStatus\", v)}\r\n                      />\r\n                    </StepShell>\r\n                  )}\r\n\r\n                  {current === \"summary\" && (\r\n                    <StepShell title=\"Review and submit\">\r\n                      <div className=\"rounded-xl border border-white/10 bg-white/5 p-4\">\r\n                        <dl className=\"grid grid-cols-1 gap-2 sm:grid-cols-2 sm:gap-3\">\r\n                          <Row term=\"From\" def={answers.from} />\r\n                          <Row\r\n                            term=\"To\"\r\n                            def={\r\n                              answers.destination || answers.seededDestination\r\n                            }\r\n                          />\r\n                          <Row term=\"Start\" def={fmtDate(answers.startDate)} />\r\n                          <Row term=\"End\" def={fmtDate(answers.endDate)} />\r\n                          <Row\r\n                            term=\"Adults\"\r\n                            def={String(answers.adults ?? 0)}\r\n                          />\r\n                          <Row\r\n                            term=\"Children\"\r\n                            def={String(answers.children ?? 0)}\r\n                          />\r\n                          <Row term=\"Name\" def={answers.passengerName} />\r\n                          <Row\r\n                            term=\"Phone\"\r\n                            def={`${answers.phoneCountryCode ?? \"\"} ${\r\n                              answers.phoneNumber ?? \"\"\r\n                            }`.trim()}\r\n                          />\r\n                          <Row term=\"Email\" def={answers.email} />\r\n                          <Row term=\"Nationality\" def={answers.nationality} />\r\n                          <Row term=\"Airline\" def={answers.airlinePref} />\r\n                          <Row term=\"Hotel\" def={answers.hotelPref} />\r\n                          <Row term=\"Class\" def={answers.flightClass} />\r\n                          <Row term=\"Visa\" def={answers.visaStatus} />\r\n                        </dl>\r\n                      </div>\r\n                      <p className=\"mt-3 text-sm text-zinc-400\">\r\n                        {submitting === \"saving\" && \"Submitting…\"}\r\n                        {submitting === \"saved\" && \"Redirecting…\"}\r\n                        {submitting === \"error\" &&\r\n                          \"We couldn’t submit your request. Refresh and try again.\"}\r\n                      </p>\r\n                    </StepShell>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Sticky Nav */}\r\n            <div className=\"mt-4 sm:mt-6\">\r\n              <div className=\"sticky bottom-2 z-10 mx-auto flex w-full max-w-2xl items-center justify-between rounded-xl border border-white/10 px-2 py-2 backdrop-blur supports-[backdrop-filter]:bg-zinc-900/40 bg-zinc-900/70 sm:px-2.5\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={goPrev}\r\n                  disabled={idx === 0 || submitting === \"saving\"}\r\n                  className=\"btn-secondary disabled:opacity-40 min-h-[44px] px-3 touch-manipulation sm:px-4\"\r\n                >\r\n                  ← Previous\r\n                </button>\r\n\r\n                <div className=\"text-xs text-zinc-400 px-2\">\r\n                  Step {idx + 1} of {steps.length}\r\n                </div>\r\n\r\n                {current === \"summary\" ? (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={submitRequest}\r\n                    disabled={!hasAll || submitting === \"saving\"}\r\n                    className=\"btn-primary disabled:opacity-40 min-h-[44px] px-3 touch-manipulation sm:px-4\"\r\n                  >\r\n                    {submitting === \"saving\" ? \"Submitting…\" : \"Submit →\"}\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={goNext}\r\n                    disabled={!canProceed() || submitting === \"saving\"}\r\n                    className=\"btn-primary disabled:opacity-40 min-h-[44px] px-3 touch-manipulation sm:px-4\"\r\n                  >\r\n                    Next →\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* CSS helpers for your dark glass aesthetic */}\r\n      <style jsx>{`\r\n        .input {\r\n          width: 100%;\r\n          border-radius: 0.9rem;\r\n          border: 1px solid rgba(255, 255, 255, 0.12);\r\n          background: rgba(255, 255, 255, 0.06);\r\n          color: white;\r\n          padding: 0.7rem 0.9rem;\r\n          outline: none;\r\n          backdrop-filter: blur(6px);\r\n          -webkit-appearance: none;\r\n          appearance: none;\r\n        }\r\n        .input:focus {\r\n          border-color: rgba(255, 255, 255, 0.24);\r\n          box-shadow: 0 0 0 4px rgba(180, 180, 255, 0.12);\r\n        }\r\n        .btn-primary {\r\n          border-radius: 0.9rem;\r\n          border: 1px solid rgba(255, 255, 255, 0.14);\r\n          background: linear-gradient(\r\n            180deg,\r\n            rgba(255, 255, 255, 0.18),\r\n            rgba(255, 255, 255, 0.06)\r\n          );\r\n          color: white;\r\n          padding: 0.55rem 0.95rem;\r\n          backdrop-filter: blur(6px);\r\n        }\r\n        .btn-secondary {\r\n          border-radius: 0.9rem;\r\n          border: 1px solid rgba(255, 255, 255, 0.14);\r\n          background: rgba(255, 255, 255, 0.06);\r\n          color: white;\r\n          padding: 0.55rem 0.95rem;\r\n          backdrop-filter: blur(6px);\r\n        }\r\n        .hide-scrollbar {\r\n          scrollbar-width: none; /* Firefox */\r\n          -ms-overflow-style: none; /* IE/Edge */\r\n        }\r\n        .hide-scrollbar::-webkit-scrollbar {\r\n          display: none; /* WebKit */\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n}\r\n\r\n/* ---------------- Little building blocks ---------------- */\r\nfunction StepShell(props: {\r\n  title: string;\r\n  subtitle?: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-white sm:text-xl md:text-2xl\">\r\n          {props.title}\r\n        </h3>\r\n        {props.subtitle && (\r\n          <p className=\"mt-1 text-sm text-zinc-400\">{props.subtitle}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"mt-0.5\">{props.children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChoiceGrid({\r\n  options,\r\n  value,\r\n  onChange,\r\n}: {\r\n  options: ReadonlyArray<string>;\r\n  value?: string;\r\n  onChange: (val: string) => void;\r\n}) {\r\n  return (\r\n    <div\r\n      role=\"radiogroup\"\r\n      className=\"grid grid-cols-1 gap-2 sm:grid-cols-2 sm:gap-2.5\"\r\n    >\r\n      {options.map((opt) => {\r\n        const active = value === opt;\r\n        return (\r\n          <button\r\n            key={opt}\r\n            type=\"button\"\r\n            role=\"radio\"\r\n            aria-checked={active}\r\n            onClick={() => onChange(opt)}\r\n            className={[\r\n              \"group rounded-xl border px-3 py-3 text-left transition touch-manipulation min-h-[48px]\",\r\n              \"active:scale-[0.99]\",\r\n              active\r\n                ? \"border-white/30 bg-white/10\"\r\n                : \"border-white/10 bg-white/5 hover:bg-white/10\",\r\n            ].join(\" \")}\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-[15px] leading-5 text-white\">{opt}</span>\r\n              <span\r\n                className={[\r\n                  \"ml-3 inline-flex h-3 w-3 rounded-full\",\r\n                  active ? \"bg-white\" : \"bg-white/30 group-hover:bg-white/50\",\r\n                ].join(\" \")}\r\n              />\r\n            </div>\r\n          </button>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Labeled({\r\n  field,\r\n  label,\r\n  children,\r\n}: {\r\n  field: string;\r\n  label: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <label htmlFor={field} className=\"block\">\r\n      <div className=\"mb-1 text-xs uppercase tracking-wide text-zinc-400\">\r\n        {label}\r\n      </div>\r\n      {children}\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction NumberField({\r\n  id,\r\n  min = 0,\r\n  value,\r\n  onChange,\r\n}: {\r\n  id: string;\r\n  min?: number;\r\n  value: number;\r\n  onChange: (n: number) => void;\r\n}) {\r\n  return (\r\n    <div className=\"flex items-center gap-1.5 sm:gap-2\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn-secondary px-2.5 py-2 min-w-[40px] min-h-[40px] touch-manipulation sm:px-3\"\r\n        onClick={() => onChange(Math.max(min, (value || 0) - 1))}\r\n      >\r\n        −\r\n      </button>\r\n      <input\r\n        id={id}\r\n        type=\"number\"\r\n        min={min}\r\n        value={value}\r\n        inputMode=\"numeric\"\r\n        onChange={(e) => onChange(Number(e.target.value || 0))}\r\n        className=\"input text-center min-h-[40px]\"\r\n        style={{ MozAppearance: \"textfield\" as any }}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn-secondary px-2.5 py-2 min-w-[40px] min-h-[40px] touch-manipulation sm:px-3\"\r\n        onClick={() => onChange((value || 0) + 1)}\r\n      >\r\n        +\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Row({ term, def }: { term: string; def?: string | null }) {\r\n  return (\r\n    <div className=\"rounded-lg bg-white/5 p-3\">\r\n      <dt className=\"text-xs uppercase tracking-wide text-zinc-400\">{term}</dt>\r\n      <dd className=\"mt-1 text-sm text-white\">{def || \"—\"}</dd>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProgressPips({\r\n  total,\r\n  index,\r\n  onJump,\r\n  maxVisited,\r\n}: {\r\n  total: number;\r\n  index: number;\r\n  onJump: (i: number) => void;\r\n  maxVisited: number;\r\n}) {\r\n  return (\r\n    <div className=\"flex items-center justify-center gap-2\">\r\n      {Array.from({ length: total }).map((_, i) => {\r\n        const visited = i <= maxVisited;\r\n        return (\r\n          <button\r\n            key={i}\r\n            type=\"button\"\r\n            aria-label={`Go to step ${i + 1}`}\r\n            onClick={() => visited && onJump(i)}\r\n            className={[\r\n              \"h-1.5 w-6 rounded-full transition\",\r\n              i <= index ? \"bg-white\" : \"bg-white/20\",\r\n              visited ? \"opacity-100\" : \"opacity-40 cursor-not-allowed\",\r\n            ].join(\" \")}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}